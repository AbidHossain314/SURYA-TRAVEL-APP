<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SURYA // Travel Companion</title>
    
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!--Manas Kumar Samanta-->
    <!-- Bootstrap CSS for new payment gateway (No longer needed, but keeping for FontAwesome dependency if any) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
     <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Markdown parsing library -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b; 
            transition: background-color 0.4s ease-in-out;
        }

        /* Neumorphism Login Styles */
        body.neumorphism-bg {
             background: #e0e0e0;
        }
        .neumorphism-card {
            background: #e0e0e0;
            box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;
            border-radius: 1.5rem;
            padding: 2.5rem;
            text-align: center;
        }
        .brand-logo {
            height: 100px;
            width: 100px;
            margin: auto;
            border-radius: 50%;
            box-sizing: border-box;
            box-shadow: 7px 7px 10px #cbced1, -7px -7px 10px white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .brand-logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        .brand-title {
            margin-top: 1rem;
            font-weight: 900;
            font-size: 1.8rem;
            color: #1DA1F2;
            letter-spacing: 1px;
        }
        .neumorphism-input {
            width: 100%;
            display: block;
            border: none;
            outline: none;
            background: none;
            font-size: 1rem;
            color: #555;
            padding: 1.25rem 1rem 1.25rem 3.5rem;
            margin-top: 1.25rem;
            border-radius: 2rem;
            box-shadow: inset 8px 8px 8px #cbced1, inset -8px -8px 8px #ffffff;
        }
        .neumorphism-input-wrapper {
            position: relative;
        }
        .neumorphism-input-wrapper .fa {
            position: absolute;
            top: 50%;
            left: 1.25rem;
            transform: translateY(-50%);
            color: #555;
        }
        .neumorphism-btn {
            outline: none;
            border: none;
            cursor: pointer;
            width: 100%;
            height: 60px;
            border-radius: 30px;
            font-size: 20px;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            color: #fff;
            text-align: center;
            background-color: #02c8db;
            box-shadow: 3px 3px 8px #b1b1b1, -3px -3px 8px #fff;
            transition: all 0.5s;
        }
        .neumorphism-btn:hover {
            background-color: #50e5b9;
        }
        .neumorphism-btn:active {
            background-color: #88ef9e;
        }
        
        .styled-card {
            background: white; border-radius: 1rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease-in-out;
        }
        
        .page {
            position: absolute; top: 0; left: 0; width: 100%; min-height: 100vh;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; visibility: hidden;
            transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
            padding: 1.5rem; overflow-y: auto;
            z-index: 10;
        }

        .page.active { 
            display: flex;
            opacity: 1; 
            visibility: visible; 
        }
        .page.app-page { justify-content: flex-start; padding-top: 6rem; }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #e2e8f0; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }
        
        .itinerary-content h1, .itinerary-content h2, .itinerary-content h3 { font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.5rem; color: #1e293b; }
        .itinerary-content h1 { font-size: 1.75rem; border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem; }
        .itinerary-content h2 { font-size: 1.5rem; }
        .itinerary-content h3 { font-size: 1.25rem; color: #0ea5e9; } /* Sky blue */
        .itinerary-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
        .itinerary-content p { margin-bottom: 0.75rem; line-height: 1.6; color: #475569; }
        
        .hospital-glow {
            box-shadow: 0 0 18px 5px rgba(14, 165, 233, 0.4); /* Sky blue glow */
        }
        
        /* Loader Styles */
        #app-loader {
            background: linear-gradient(to right top, #0ea5e9, #0284c7, #0369a1);
            transition: opacity 0.5s ease-out;
        }
        #app-loader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .loader {
            --block-size: 18vmin; --loader-size: calc(var(--block-size) / 2); --loader-size-half: calc(var(--loader-size) / 2); --loader-size-half-neg: calc(var(--loader-size-half) * -1);
            --light-color: rgba(255, 255, 255, 0.3); --dot-size: 8px; --dot-size-half: calc(var(--dot-size) / 2);
            display: block; position: relative; width: var(--loader-size); display: grid; place-items: center; color: white;
        }
        .loader::before, .loader::after { content: ''; position: absolute; }
        .loader--7 {
            --anim-duration: 0.8s; aspect-ratio: 1 / 1; border: 3px solid var(--light-color); border-radius: 50%; animation: loader-7-spin calc(var(--anim-duration) * 2) linear infinite;
        }
        .loader--7::before, .loader--7::after {
            width: var(--dot-size); aspect-ratio: 1 / 1; background: currentColor; border-radius: 50%;
            top: calc(50% - var(--dot-size-half)); left: calc(50% - var(--dot-size-half));
            animation: loader-7-1 var(--anim-duration) cubic-bezier(0.32, 0.41, 0.3, 1.87) infinite;
        }
        .loader--7::after { animation-name: loader-7-2; animation-delay: calc(var(--anim-duration) / 3 * -1); }
        @keyframes loader-7-spin { 100% { transform: rotate(1turn); } }
        @keyframes loader-7-1 { 0%, 100% { transform: translateX(var(--loader-size-half-neg)); } 55% { transform: translateX(var(--loader-size-half)); } }
        @keyframes loader-7-2 { 0%, 100% { transform: translateY(var(--loader-size-half-neg)); } 55% { transform: translateY(var(--loader-size-half)); } }

        /* Blob Button Styles */
        .blob-btn {
            --cyan: #0ea5e9; --dark: #FFFFFF; --border-width: 2px;
            z-index: 1; position: relative; padding: 1.25rem 1rem;
            text-align: center; color: var(--cyan);
            font-size: 1rem; font-weight: 600; background-color: transparent;
            outline: none; border: none; transition: color 0.5s; cursor: pointer;
            border-radius: 1rem;
        }
        .blob-btn:before {
            content: ""; z-index: 1; position: absolute; left: 0; top: 0;
            width: 100%; height: 100%; border: var(--border-width) solid var(--cyan);
            border-radius: 1rem;
        }
        .blob-btn:after {
            content: ""; z-index: -2; position: absolute;
            left: calc(var(--border-width) * 1.5); top: calc(var(--border-width) * 1.5);
            width: 100%; height: 100%; transition: all 0.3s 0.2s; border-radius: 1rem;
        }
        .blob-btn:hover { color: var(--dark); }
        .blob-btn:hover:after { transition: all 0.3s; left: 0; top: 0; }
        .blob-btn__inner {
            z-index: -1; overflow: hidden; position: absolute; left: 0; top: 0;
            width: 100%; height: 100%; border-radius: 1rem; background: #ffffff;
        }
        .blob-btn__blobs {
            position: relative; display: block; height: 100%; filter: url('#goo');
        }
        .blob-btn__blob {
            position: absolute; top: var(--border-width); width: 25%; height: 100%;
            background: var(--cyan); border-radius: 100%;
            transform: translate3d(0, 150%, 0) scale(1.7); transition: transform 0.45s;
        }
        .blob-btn__blob:nth-child(1) { left: 0%; transition-delay: 0s; }
        .blob-btn__blob:nth-child(2) { left: 30%; transition-delay: 0.08s; }
        .blob-btn__blob:nth-child(3) { left: 60%; transition-delay: 0.16s; }
        .blob-btn__blob:nth-child(4) { left: 90%; transition-delay: 0.24s; }
        .blob-btn:hover .blob-btn__blob { transform: translateZ(0) scale(1.7); }
        
        /* AI Chat styles */
        .chat-message { max-width: 80%; padding: 0.75rem 1rem; border-radius: 1rem; margin-bottom: 0.5rem; line-height: 1.5; }
        .user-message { background-color: #0ea5e9; color: white; align-self: flex-end; border-bottom-right-radius: 0.25rem; }
        .ai-message { background-color: #e2e8f0; color: #1e293b; align-self: flex-start; border-bottom-left-radius: 0.25rem; }

        /* Animated Back Button */
        .animated-back-btn {
            display: block; position: relative; width: 56px; height: 56px;
            margin: 0; overflow: hidden; outline: none; background-color: transparent;
            cursor: pointer; border: 0;
        }
        .animated-back-btn:before {
            content: ""; position: absolute; border-radius: 50%; inset: 7px;
            border: 2px solid #e2e8f0;
            transition: opacity 0.4s cubic-bezier(0.77, 0, 0.175, 1) 80ms, transform 0.5s cubic-bezier(0.455, 0.03, 0.515, 0.955) 80ms;
        }
        .animated-back-btn:after {
            content: ""; position: absolute; border-radius: 50%; inset: 7px;
            border: 2px solid #0ea5e9; transform: scale(1.3);
            transition: opacity 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            opacity: 0;
        }
        .animated-back-btn:hover:before, .animated-back-btn:focus:before {
            opacity: 0; transform: scale(0.7);
            transition: opacity 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .animated-back-btn:hover:after, .animated-back-btn:focus:after {
            opacity: 1; transform: scale(1);
            transition: opacity 0.4s cubic-bezier(0.77, 0, 0.175, 1) 80ms, transform 0.5s cubic-bezier(0.455, 0.03, 0.515, 0.955) 80ms;
        }
        .animated-back-btn-box { display: flex; position: absolute; top: 0; left: 0; }
        .animated-back-btn-elem { display: block; width: 24px; height: 24px; margin: 16px; transform: rotate(360deg); }
        .animated-back-btn .arrow-icon path { fill: #1e293b; }
        .animated-back-btn:hover .animated-back-btn-box, .animated-back-btn:focus .animated-back-btn-box { transition: 0.4s; transform: translateX(-56px); }
        
         <!--Soumya Bera-->
        
        /* Wave Background */
        #wave-background {
            position: fixed;
            width: 100%;
            height: 100vh;
            background: linear-gradient(to top, #138808, #FFFFFF, #FF9933);
            overflow: hidden;
            z-index: -1; /* Placed behind all content */
            display: none; /* Initially hidden */
        }
        #wave-background .air {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: url(https://1.bp.blogspot.com/-xQUc-TovqDk/XdxogmMqIRI/AAAAAAAACvI/AizpnE509UMGBcTiLJ58BC6iViPYGYQfQCLcBGAsYHQ/s1600/wave.png);
            background-size: 1000px 100px
        }
        #wave-background .air.air1{ animation: wave 30s linear infinite; z-index: 10; opacity: 1; animation-delay: 0s; bottom: 0; }
        #wave-background .air.air2{ animation: wave2 15s linear infinite; z-index: 9; opacity: 0.5; animation-delay: -5s; bottom: 10px; }
        #wave-background .air.air3{ animation: wave 30s linear infinite; z-index: 8; opacity: 0.2; animation-delay: -2s; bottom: 15px; }
        #wave-background .air.air4{ animation: wave2 5s linear infinite; z-index: 7; opacity: 0.7; animation-delay: -5s; bottom: 20px; }
        @keyframes wave { 0%{ background-position-x: 0px; } 100%{ background-position-x: 1000px; } }
        @keyframes wave2 { 0%{ background-position-x: 0px; } 100%{ background-position-x: -1000px; } }

        /* Glass Radio Buttons */
        .glass-radio-group { display: flex; position: relative; background: rgba(255, 255, 255, 0.06); border-radius: 1rem; backdrop-filter: blur(12px); box-shadow: inset 1px 1px 4px rgba(255, 255, 255, 0.2), inset -1px -1px 6px rgba(0, 0, 0, 0.3), 0 4px 12px rgba(0, 0, 0, 0.15); overflow: hidden; width: fit-content; margin: 0 auto; }
        .glass-radio-group input { display: none; }
        .glass-radio-group label { flex: 1; display: flex; align-items: center; justify-content: center; min-width: 100px; font-size: 14px; padding: 0.8rem 1.6rem; cursor: pointer; font-weight: 600; letter-spacing: 0.3px; color: #e5e5e5; position: relative; z-index: 2; transition: color 0.3s ease-in-out; }
        .glass-radio-group label:hover { color: white; }
        .glass-radio-group input:checked + label { color: #fff; }
        .glass-glider { position: absolute; top: 0; bottom: 0; width: calc(100% / 2); border-radius: 1rem; z-index: 1; transition: transform 0.5s cubic-bezier(0.37, 1.95, 0.66, 0.56), background 0.4s ease-in-out, box-shadow 0.4s ease-in-out; }
        #glass-exit:checked ~ .glass-glider { transform: translateX(0%); background: linear-gradient(135deg, rgba(239, 68, 68, 0.34), #dc2626); box-shadow: 0 0 18px rgba(239, 68, 68, 0.5), 0 0 10px rgba(255, 200, 200, 0.4) inset; }
        #glass-enter:checked ~ .glass-glider { transform: translateX(100%); background: linear-gradient(135deg, rgba(34, 197, 94, 0.34), #16a34a); box-shadow: 0 0 18px rgba(34, 197, 94, 0.5), 0 0 10px rgba(200, 255, 200, 0.4) inset; }
        
        /* New Logout Button Styles */
        .Btn { display: flex; align-items: center; justify-content: flex-start; width: 50px; height: 50px; border: none; border-radius: 50%; cursor: pointer; position: relative; overflow: hidden; transition-duration: 0.4s; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); background: linear-gradient(to right, #3498db, #e74c3c); } 
        .sign { width: 100%; transition-duration: 0.4s; display: flex; align-items: center; justify-content: center; } 
        .sign svg { width: 17px; } 
        .sign svg path { fill: white; } 
        .text { position: absolute; right: 0%; width: 0%; opacity: 0; color: #ecf0f1; font-size: 1.2em; font-weight: 600; transition-duration: 0.4s; } 
        .Btn:hover { width: 150px; border-radius: 20px; transition-duration: 0.4s; background: linear-gradient(to right, #3498db, #e74c3c); } 
        .Btn:hover .sign { width: 30%; transition-duration: 0.4s; padding-left: 12px; } 
        .Btn:hover .text { opacity: 1; width: 70%; transition-duration: 0.4s; padding-right: 10px; } 
        .Btn:active { transform: translate(2px, 2px); box-shadow: 0 0 0 rgba(0, 0, 0, 0.2); } 

        /* OTP Form Styles */
         .otp-Form { width: 280px; height: 320px; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px 30px; gap: 20px; position: relative; box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.082); border-radius: 15px; } 
         .mainHeading { font-size: 1.1em; color: rgb(15, 15, 15); font-weight: 700; } 
         .otpSubheading { font-size: 0.7em; color: black; line-height: 17px; text-align: center; } 
         .inputContainer { width: 100%; display: flex; flex-direction: row; gap: 10px; align-items: center; justify-content: center; } 
         .otp-input { background-color: rgb(228, 228, 228); width: 40px; height: 40px; text-align: center; border: none; border-radius: 7px; caret-color: rgb(127, 129, 255); color: rgb(44, 44, 44); outline: none; font-weight: 600; } 
         .otp-input:focus, .otp-input:valid { background-color: rgba(127, 129, 255, 0.199); transition-duration: .3s; } 
         .verifyButton { width: 100%; height: 30px; border: none; background-color: rgb(127, 129, 255); color: white; font-weight: 600; cursor: pointer; border-radius: 10px; transition-duration: .2s; } 
         .verifyButton:hover { background-color: rgb(144, 145, 255); transition-duration: .2s; } 
         .exitBtn { position: absolute; top: 5px; right: 5px; box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.171); background-color: rgb(255, 255, 255); border-radius: 50%; width: 25px; height: 25px; border: none; color: black; font-size: 1.1em; cursor: pointer; } 
         .resendNote { font-size: 0.7em; color: black; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; } 
         .resendBtn { background-color: transparent; border: none; color: rgb(127, 129, 255); cursor: pointer; font-size: 1.1em; font-weight: 700; }

        /* New Home Card Styles */
        .home-card { position: relative; width: 190px; height: 254px; background-color: #000; color: white; display: flex; flex-direction: column; justify-content: end; padding: 12px; gap: 12px; border-radius: 8px; cursor: pointer; margin: 0 auto; }
        .home-card::before { content: ''; position: absolute; inset: 0; left: -5px; margin: auto; width: 200px; height: 264px; border-radius: 10px; background: linear-gradient(-45deg, #e81cff 0%, #40c9ff 100% ); z-index: -10; pointer-events: none; transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .home-card::after { content: ""; z-index: -1; position: absolute; inset: 0; background: linear-gradient(-45deg, #fc00ff 0%, #00dbde 100% ); transform: translate3d(0, 0, 0) scale(0.95); filter: blur(20px); }
        .home-card .heading { font-size: 20px; text-transform: capitalize; font-weight: 700; }
        .home-card p:not(.heading) { font-size: 14px; }
        .home-card p:last-child { color: #e81cff; font-weight: 600; }
        .home-card:hover::after { filter: blur(30px); }
        .home-card:hover::before { transform: rotate(-90deg) scaleX(1.34) scaleY(0.77); }
        
        /* --- Payment Button CSS --- */
        #payment-page .Btn {
            width: 130px; height: 40px; display: flex; align-items: center; justify-content: center;
            background-color: rgb(15, 15, 15); border: none; color: white;
            font-weight: 600; gap: 8px; cursor: pointer;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.103); position: relative;
            overflow: hidden; transition-duration: .3s;
        }
        #payment-page .svgIcon { width: 16px; }
        #payment-page .svgIcon path { fill: white; }
        #payment-page .Btn::before {
            width: calc(100% + 40px); aspect-ratio: 1/1; position: absolute;
            content: ""; background-color: white; border-radius: 50%;
            left: -20px; top: 50%; transform: translate(-150%, -50%);
            transition-duration: .5s; mix-blend-mode: difference;
        }
        #payment-page .Btn:hover::before { transform: translate(0, -50%); }
        #payment-page .Btn:active { transform: translateY(4px); transition-duration: .3s; }

        /* --- Payment Success Animation CSS --- */
        #confirmation-page .styled-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #confirmation-page .success-title { opacity: 0; }
        #confirmation-page input[type="checkbox"] { display: none; }
        #confirmation-page input[type="checkbox"]:checked ~ .success-title { 
            animation: .6s title ease-in-out;
            animation-delay:1.2s;
            animation-fill-mode:forwards; 
        }
        #confirmation-page .circle{ stroke-dasharray:1194; stroke-dashoffset:1194; }
        #confirmation-page input[type="checkbox"]:checked  + svg .circle{ animation:circle 1s ease-in-out; animation-fill-mode:forwards; }
        #confirmation-page .tick{ stroke-dasharray:350; stroke-dashoffset:350; }
        #confirmation-page input[type="checkbox"]:checked + svg .tick{ animation: tick .8s ease-out; animation-fill-mode:forwards; animation-delay: .95s; }
        @keyframes circle{ from{ stroke-dashoffset:1194; } to{ stroke-dashoffset:2388; } }
        @keyframes tick{ from{ stroke-dashoffset:350; } to{ stroke-dashoffset:0; } }
        @keyframes title{ from{ opacity:0; } to{ opacity:1; } }

        /* Animated FAQ Button CSS */
        .faq-button {
          width: 50px;
          height: 50px;
          border-radius: 50%;
          border: none;
          background-image: linear-gradient(135deg, #bae6fd, #a5f3fc);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.151);
          position: relative;
        }
        .faq-button svg {
          height: 1.5em;
          fill: #1e293b;
        }
        .faq-button:hover svg {
          animation: jello-vertical 0.7s both;
        }
        @keyframes jello-vertical {
          0% { transform: scale3d(1, 1, 1); }
          30% { transform: scale3d(0.75, 1.25, 1); }
          40% { transform: scale3d(1.25, 0.75, 1); }
          50% { transform: scale3d(0.85, 1.15, 1); }
          65% { transform: scale3d(1.05, 0.95, 1); }
          75% { transform: scale3d(0.95, 1.05, 1); }
          100% { transform: scale3d(1, 1, 1); }
        }
        .tooltip {
          position: absolute;
          top: -20px;
          opacity: 0;
          background-image: linear-gradient(135deg, #bae6fd, #a5f3fc);
          color: #1e293b;
          padding: 5px 10px;
          border-radius: 5px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition-duration: 0.2s;
          pointer-events: none;
          letter-spacing: 0.5px;
        }
        .tooltip::before {
          position: absolute;
          content: "";
          width: 10px;
          height: 10px;
          background-color: #a5f3fc;
          background-size: 1000%;
          background-position: center;
          transform: rotate(45deg);
          bottom: -15%;
          transition-duration: 0.3s;
        }
        .faq-button:hover .tooltip {
          top: -40px;
          opacity: 1;
          transition-duration: 0.3s;
        }

        /* New AI Assistant Button Style */
        .ai-assist-btn {
          width: 50px;
          height: 50px;
          display: flex;
          align-items: center;
          justify-content: center;
          border: none;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
          box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.151);
        }

        .ai-assist-btn .svgContainer {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          background-image: linear-gradient(135deg, #bae6fd, #a5f3fc);
          letter-spacing: 0.8px;
          border-radius: 50%;
          transition: all 0.3s;
          border: none;
          z-index: 10;
        }

        .ai-assist-btn .svgContainer > svg {
          width: 1.5em;
          height: 1.5em;
          fill: #1e293b;
        }

        .ai-assist-btn .BG {
          position: absolute;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
          content: "";
          width: auto;
          white-space: nowrap;
          padding: 5px 10px;
          height: auto;
          z-index: -1;
          border-radius: 5px;
          pointer-events: none;
          transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          display: flex;
          justify-content: center;
          align-items: center;
          font-weight: 600;
          color: transparent;
          filter: blur(4px);
          z-index: 4;
        }
        .ai-assist-btn .BG::before {
          position: absolute;
          content: "";
          height: 0.6em;
          width: 0.6em;
          bottom: -0.2em;
          left: 50%;
          transform: translate(-50%) rotate(45deg);
          background: white;
          opacity: 0;
          z-index: -10;
          transition: 0.5s all;
        }
        .ai-assist-btn:hover .BG::before {
          opacity: 1;
        }
        .ai-assist-btn:hover .BG {
          transform: translateX(-50%) translateY(-130%);
          transform-origin: bottom;
          background: white;
          color: black;
          filter: blur(0px);
        }

        .ai-assist-btn:hover .svgContainer {
          z-index: 20;
          background-color: #a5f3fc;
          animation: jello-vertical 0.7s both;
        }

        /* Verification Modal CSS */
        #verification-confirm-modal .card {
          overflow: hidden;
          position: relative;
          background-color: #ffffff;
          text-align: left;
          border-radius: 0.5rem;
          max-width: 320px;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        #verification-confirm-modal .header {
          padding: 1.25rem 1rem 1rem 1rem;
          background-color: #ffffff;
        }
        #verification-confirm-modal .image {
          display: flex;
          margin-left: auto;
          margin-right: auto;
          background-color: #fefce8; /* Light yellow */
          flex-shrink: 0;
          justify-content: center;
          align-items: center;
          width: 3rem;
          height: 3rem;
          border-radius: 9999px;
        }
        #verification-confirm-modal .image svg {
          color: #facc15; /* Yellow */
          width: 1.5rem;
          height: 1.5rem;
        }
        #verification-confirm-modal .content {
          margin-top: 0.75rem;
          text-align: center;
        }
        #verification-confirm-modal .title {
          color: #111827;
          font-size: 1rem;
          font-weight: 600;
          line-height: 1.5rem;
        }
        #verification-confirm-modal .message {
          margin-top: 0.5rem;
          color: #6b7280;
          font-size: 0.875rem;
          line-height: 1.25rem;
        }
        #verification-confirm-modal .actions {
          margin: 0.75rem 1rem;
          background-color: #f9fafb;
        }
        #verification-confirm-modal .desactivate, 
        #verification-confirm-modal .continue {
            display: inline-flex;
            padding: 0.5rem 1rem;
            color: #ffffff;
            font-size: 1rem;
            line-height: 1.5rem;
            font-weight: 500;
            justify-content: center;
            width: 100%;
            border-radius: 0.375rem;
            border-width: 1px;
            border-color: transparent;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: background-color 0.2s;
        }
        #verification-confirm-modal .desactivate {
            background-color: #dc2626; /* Red */
        }
        #verification-confirm-modal .desactivate:hover {
            background-color: #b91c1c;
        }
        #verification-confirm-modal .continue {
            margin-top: 0.75rem;
            background-color: #16a34a; /* Green */
        }
        #verification-confirm-modal .continue:hover {
            background-color: #15803d;
        }
        #verification-confirm-modal button {
            cursor: pointer;
        }

        .kerala-hero {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://www.muchbetteradventures.com/magazine/content/images/2022/08/kerala-backwaters.jpg');
            background-size: cover;
            background-position: center;
        }

        .westbengal-hero {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://www.adotrip.com/public/images/areas/master_images/60fea45055e09-Howran_bridge_in_west_bengal.jpg');
            background-size: cover;
            background-position: center;
        }

        /* --- Hamburger Menu CSS --- */
        #menuToggle {
            display: block;
            position: relative;
            z-index: 51; /* Higher than header z-index */
            -webkit-user-select: none;
            user-select: none;
        }

        #menuToggle a {
            text-decoration: none;
            color: #f8fafc; /* Light color for dark menu */
            font-size: 1.5rem;
            padding: 1rem;
            transition: color 0.3s ease;
        }

        #menuToggle a:hover {
            color: #38bdf8; /* Sky blue hover */
        }

        #menuToggle input {
            display: block;
            width: 40px;
            height: 32px;
            position: absolute;
            top: -7px;
            left: -5px;
            cursor: pointer;
            opacity: 0; /* hide this */
            z-index: 52; /* and place it over the hamburger */
            -webkit-touch-callout: none;
        }

        #menuToggle span {
            display: block;
            width: 33px;
            height: 4px;
            margin-bottom: 5px;
            position: relative;
            background: #1e293b; /* Dark slate to show on white header */
            border-radius: 3px;
            z-index: 51;
            transform-origin: 4px 0px;
            transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0),
                        background 0.5s cubic-bezier(0.77,0.2,0.05,1.0),
                        opacity 0.55s ease;
        }

        #menuToggle span:first-child {
            transform-origin: 0% 0%;
        }

        #menuToggle span:nth-last-child(2) {
            transform-origin: 0% 100%;
        }

        #menuToggle input:checked ~ span {
            opacity: 1;
            transform: rotate(45deg) translate(-2px, -1px);
            background: #f8fafc; /* White to show on dark menu */
        }

        #menuToggle input:checked ~ span:nth-last-child(3) {
            opacity: 0;
            transform: rotate(0deg) scale(0.2, 0.2);
        }

        #menuToggle input:checked ~ span:nth-last-child(2) {
            transform: rotate(-45deg) translate(0, -1px);
        }

        #menu {
            position: fixed;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            margin: 0;
            padding: 125px 50px 50px 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(30, 41, 59, 0.98); /* Dark slate background */
            list-style-type: none;
            -webkit-font-smoothing: antialiased;
            transform-origin: 0% 0%;
            transform: translate(-100%, 0);
            transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
            z-index: 50;
        }

        #menu li {
            padding: 1rem 0;
            text-align: center;
        }

        #menuToggle input:checked ~ ul {
            transform: none;
        }

        /* --- New Hamburger Menu CSS --- */
        .new-hamburger-menu-icon {
          position: relative;
          height: 40px;
          width: 40px;
          z-index: 1000;
          cursor: pointer;
          border-radius: 50%;
          transition: all 0.2s ease-in-out;
        }
        .new-hamburger-menu-icon:hover {
            transform: scale(1.1);
        }
        .new-hamburger-menu-icon .icon-1, .new-hamburger-menu-icon .icon-2, .new-hamburger-menu-icon .icon-3 {
            position: absolute;
            left: 15%;
            top: 50%;
            width: 24px;
            height: 3px;
            background-color: #1e293b; /* Match app theme */
            transition: all 400ms cubic-bezier(.84,.06,.52,1.8);
            border-radius: 3px;
        }
        .new-hamburger-menu-icon .icon-1 {
          transform: translateY(-7px);
        }
        .new-hamburger-menu-icon .icon-3 {
          transform: translateY(7px);
        }
        .new-hamburger-menu-icon .icon-1.a {
          transform: rotate(40deg);
          background-color: #1e293b; /* Change color when open */
        }
        .new-hamburger-menu-icon .icon-3.b {
          transform: rotate(-40deg);
          background-color: #1e293b; /* Change color when open */
        }
        .new-hamburger-menu-icon .icon-2.c {
          opacity: 0;
        }
        .new-hamburger-menu-icon .clear {
          clear: both;
        }
        #mobile-nav {
          background: #f1f5f9; /* Light Grey/Silver */
          position: fixed;
          top: 0;
          left: 0;
          height: 100%;
          width: 0%;
          z-index: 998;
          opacity: 0;
          transition: all 600ms cubic-bezier(.62,.04,.3,1.56);
          transition-delay: 100ms;
        }
        #mobile-nav ul {
            margin: 0;
            padding: 0;
            position: absolute;
            top: 25%;
            left: 0;
            width: 100%;
            text-align: center;
        }
        #mobile-nav ul li {
            list-style: none;
            font-size: 24px;
            color: #1e293b; /* Black text */
            line-height: 2.5;
            text-transform: uppercase;
            letter-spacing: 1.7px;
            font-weight: 600;
            cursor: pointer;
        }
        #mobile-nav.show {
          width: 75%;
          opacity: 1;
        }
        #mobile-nav-overlay {
          position: fixed;
          top: 0;
          left: 0;
          background: rgba(30, 41, 59, 0.6); /* Semi-transparent dark overlay */
          height: 100%;
          width: 0%;
          transition: all 500ms cubic-bezier(.62,.04,.3,1.8);
          transition-delay: 50ms;
          z-index: 997;
          opacity: 1;
        }

        /* Language Selector */
        #language-selector-container {
            position: relative;
        }
        #language-selector {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: transparent;
            border: 1px solid #cbd5e1;
            border-radius: 0.5rem;
            padding: 0.5rem 2.5rem 0.5rem 1rem;
            font-weight: 600;
            color: #334155;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        #language-selector:hover {
            border-color: #38bdf8;
        }
        #language-selector:focus {
            outline: none;
            border-color: #0ea5e9;
            box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.4);
        }
        #language-selector-container::after {
            content: '▼';
            font-size: 0.8rem;
            color: #64748b;
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }

        /* --- Nationality Modal Styles (Uiverse) --- */
        #nationality-modal .card {
          max-width: 320px;
          border-width: 1px;
          border-color: rgba(219, 234, 254, 1);
          border-radius: 1rem;
          background-color: rgba(255, 255, 255, 1);
          padding: 1rem;
          box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
          text-align: center;
        }
        
        #nationality-modal .header {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
        }
        
        #nationality-modal .icon {
          flex-shrink: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 9999px;
          background-color: rgba(96, 165, 250, 1);
          padding: 0.75rem;
          color: rgba(255, 255, 255, 1);
        }
        
        #nationality-modal .icon svg {
          height: 1.5rem;
          width: 1.5rem;
        }
        
        #nationality-modal .alert {
          font-weight: 600;
          color: rgba(107, 114, 128, 1);
          font-size: 1.125rem;
        }
        
        #nationality-modal .message {
          margin-top: 1.25rem;
          color: rgba(107, 114, 128, 1);
        }
        
        #nationality-modal .actions {
          margin-top: 1.5rem;
        }
        
        #nationality-modal .actions button {
          text-decoration: none;
          border: none;
          cursor: pointer;
        }
        
        #nationality-modal .mark-as-read, #nationality-modal .read {
          display: inline-block;
          border-radius: 0.5rem;
          width: 100%;
          padding: 0.75rem 1.25rem;
          text-align: center;
          font-size: 0.875rem;
          line-height: 1.25rem;
          font-weight: 600;
        }
        
        #nationality-modal .read {
          background-color: rgba(59, 130, 246, 1);
          color: rgba(255, 255, 255, 1);
          transition: background-color .15s ease;
        }

        #nationality-modal .read:hover {
            background-color: rgba(37, 99, 235, 1);
        }
        
        #nationality-modal .mark-as-read {
          margin-top: 0.5rem;
          background-color: rgba(249, 250, 251, 1);
          color: rgba(107, 114, 128, 1);
          border: 1px solid rgba(229, 231, 235, 1);
          transition: all .15s ease;
        }
        
        #nationality-modal .mark-as-read:hover {
          background-color: rgb(230, 231, 233);
        }
        
        /* --- Itinerary Hourglass Loader --- */
        .itinerary-loader-container { display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem; gap: 1rem; }
        .itinerary-loader-container .loader {
          --hue: 205; /* Sky blue hue */
          --dur: 4s;
          display: block;
          margin: auto;
          width: 56px;
          height: 56px;
        }
        .loader__glare-top, .loader__glare-bottom, .loader__model, .loader__motion-thick, .loader__motion-medium, .loader__motion-thin, .loader__sand-drop, .loader__sand-fill, .loader__sand-grain-left, .loader__sand-grain-right, .loader__sand-line-left, .loader__sand-line-right, .loader__sand-mound-top, .loader__sand-mound-bottom {
          animation-duration: var(--dur);
          animation-timing-function: cubic-bezier(0.83, 0, 0.17, 1);
          animation-iteration-count: infinite;
        }
        .loader__glare-top { animation-name: glare-top; }
        .loader__glare-bottom { animation-name: glare-bottom; }
        .loader__model { animation-name: loader-flip; transform-origin: 12.25px 16.75px; }
        .loader__motion-thick, .loader__motion-medium, .loader__motion-thin { transform-origin: 26px 26px; }
        .loader__motion-thick { animation-name: motion-thick; }
        .loader__motion-medium { animation-name: motion-medium; }
        .loader__motion-thin { animation-name: motion-thin; }
        .loader__sand-drop { animation-name: sand-drop; }
        .loader__sand-fill { animation-name: sand-fill; }
        .loader__sand-grain-left { animation-name: sand-grain-left; }
        .loader__sand-grain-right { animation-name: sand-grain-right; }
        .loader__sand-line-left { animation-name: sand-line-left; }
        .loader__sand-line-right { animation-name: sand-line-right; }
        .loader__sand-mound-top { animation-name: sand-mound-top; }
        .loader__sand-mound-bottom { animation-name: sand-mound-bottom; transform-origin: 12.25px 31.5px; }

        @keyframes loader-flip {
          from { transform: translate(13.75px, 9.25px) rotate(-180deg); }
          24%, to { transform: translate(13.75px, 9.25px) rotate(0); }
        }
        @keyframes glare-top {
          from { stroke: rgba(255, 255, 255, 0); }
          24%, to { stroke: white; }
        }
        @keyframes glare-bottom {
          from { stroke: white; }
          24%, to { stroke: rgba(255, 255, 255, 0); }
        }
        @keyframes motion-thick {
          from { animation-timing-function: cubic-bezier(0.33, 0, 0.67, 0); stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(0.67turn); }
          20% { animation-timing-function: cubic-bezier(0.33, 1, 0.67, 1); stroke: #1e293b; stroke-dashoffset: 141.11; transform: rotate(1turn); }
          40%, to { stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(1.33turn); }
        }
        @keyframes motion-medium {
          from, 8% { animation-timing-function: cubic-bezier(0.33, 0, 0.67, 0); stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(0.5turn); }
          20% { animation-timing-function: cubic-bezier(0.33, 1, 0.67, 1); stroke: #1e293b; stroke-dashoffset: 147.53; transform: rotate(0.83turn); }
          32%, to { stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(1.17turn); }
        }
        @keyframes motion-thin {
          from, 4% { animation-timing-function: cubic-bezier(0.33, 0, 0.67, 0); stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(0.33turn); }
          24% { animation-timing-function: cubic-bezier(0.33, 1, 0.67, 1); stroke: #1e293b; stroke-dashoffset: 134.7; transform: rotate(0.67turn); }
          44%, to { stroke: rgba(30, 41, 59, 0); stroke-dashoffset: 153.94; transform: rotate(1turn); }
        }
        @keyframes sand-drop {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 1; }
          70%, to { stroke-dashoffset: -107; }
        }
        @keyframes sand-fill {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 55; }
          70%, to { stroke-dashoffset: -54; }
        }
        @keyframes sand-grain-left {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 29; }
          70%, to { stroke-dashoffset: -22; }
        }
        @keyframes sand-grain-right {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 27; }
          70%, to { stroke-dashoffset: -24; }
        }
        @keyframes sand-line-left {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 53; }
          70%, to { stroke-dashoffset: -55; }
        }
        @keyframes sand-line-right {
          from, 10% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); stroke-dashoffset: 14; }
          70%, to { stroke-dashoffset: -24.5; }
        }
        @keyframes sand-mound-top {
          from, 10% { animation-timing-function: linear; transform: translate(0, 0); }
          15% { animation-timing-function: cubic-bezier(0.12, 0, 0.39, 0); transform: translate(0, 1.5px); }
          51%, to { transform: translate(0, 13px); }
        }
        @keyframes sand-mound-bottom {
          from, 31% { animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1); transform: scale(1, 0); }
          56%, to { transform: scale(1, 1); }
        }

        /* --- New Pure CSS Dropdown --- */
        <!--[Arunava Das]-->
        .custom-dropdown {
          --button-color: #334155; /* slate-700 */
          --dropdown-highlight: #0ea5e9; /* sky-600 */
          --dropdown-width: 224px; /* w-56 */
          --dropdown-background: white;
          --dropdown-color: #1e293b; /* slate-800 */
          
          position: relative;
          padding: 0;
          border: none;
        }

        .custom-dropdown summary {
          list-style: none;
          list-style-type: none;
          cursor: pointer;
        }

        .custom-dropdown > summary::-webkit-details-marker {
          display: none;
        }
        
        .custom-dropdown summary:focus {
          outline: none;
        }

        .custom-dropdown .summary-button {
            color: var(--button-color);
            font-weight: 600; /* font-semibold */
            transition: color 0.3s;
            display: inline-flex;
            align-items: center;
        }
        .custom-dropdown .summary-button:hover {
            color: var(--dropdown-highlight);
        }

        .custom-dropdown .summary-button svg {
            width: 1rem; /* w-4 */
            height: 1rem; /* h-4 */
            margin-left: 0.25rem; /* ml-1 */
            transition: transform 0.3s;
        }
        
        .custom-dropdown[open] .summary-button svg {
            transform: rotate(180deg);
        }

        .custom-dropdown ul {
          position: absolute;
          top: 100%;
          margin-top: 0.5rem; /* mt-2 */
          padding: 0.25rem 0; /* py-1 */
          width: var(--dropdown-width);
          right: 0; /* Align to the right */
          box-sizing: border-box;
          z-index: 50; /* from old dropdown */
          
          background: var(--dropdown-background);
          border-radius: 0.5rem; /* rounded-lg */
          list-style: none;
          box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); /* shadow-lg */
          max-height: 18rem; /* max-h-72 */
          overflow-y: auto;
          /* Applying custom scrollbar styles directly */
          scrollbar-width: thin;
          scrollbar-color: #94a3b8 #e2e8f0;
        }
        
        .custom-dropdown ul::-webkit-scrollbar { width: 6px; }
        .custom-dropdown ul::-webkit-scrollbar-track { background: #e2e8f0; }
        .custom-dropdown ul::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }

        .custom-dropdown ul li {
          padding: 0;
          margin: 0;
        }

        .custom-dropdown ul li a {
          display: block;
          padding: 0.5rem 1rem; /* py-2 px-4 */
          width: 100%;
          box-sizing: border-box;
          font-size: 0.875rem; /* text-sm */
          color: var(--dropdown-color);
          text-decoration: none;
          transition: background-color 0.2s, color 0.2s;
        }

        .custom-dropdown ul li a:hover {
          background-color: #f1f5f9; /* slate-100 */
        }
        
        .custom-dropdown ul li a.highlight {
            background-color: var(--dropdown-highlight);
            color: white;
            font-weight: 700; /* font-bold */
        }
        .custom-dropdown ul li a.highlight:hover {
            background-color: #0284c7; /* sky-700 */
        }

        /* Close the dropdown with outside clicks */
        .custom-dropdown > summary::before {
          display: none;
        }

        .custom-dropdown[open] > summary::before {
            content: ' ';
            display: block;
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            z-index: 49; /* Below dropdown list */
        }

        /* --- Hamster Loader CSS --- */
        .wheel-and-hamster {
          --dur: 1s;
          position: relative;
          width: 12em;
          height: 12em;
          font-size: 14px;
        }

        .wheel,
        .hamster,
        .hamster div,
        .spoke {
          position: absolute;
        }

        .wheel,
        .spoke {
          border-radius: 50%;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }

        .wheel {
          background: radial-gradient(100% 100% at center,hsla(0,0%,60%,0) 47.8%,hsl(0,0%,60%) 48%);
          z-index: 2;
        }

        .hamster {
          animation: hamster var(--dur) ease-in-out infinite;
          top: 50%;
          left: calc(50% - 3.5em);
          width: 7em;
          height: 3.75em;
          transform: rotate(4deg) translate(-0.8em,1.85em);
          transform-origin: 50% 0;
          z-index: 1;
        }

        .hamster__head {
          animation: hamsterHead var(--dur) ease-in-out infinite;
          background: hsl(30,90%,55%);
          border-radius: 70% 30% 0 100% / 40% 25% 25% 60%;
          box-shadow: 0 -0.25em 0 hsl(30,90%,80%) inset,
                0.75em -1.55em 0 hsl(30,90%,90%) inset;
          top: 0;
          left: -2em;
          width: 2.75em;
          height: 2.5em;
          transform-origin: 100% 50%;
        }

        .hamster__ear {
          animation: hamsterEar var(--dur) ease-in-out infinite;
          background: hsl(0,90%,85%);
          border-radius: 50%;
          box-shadow: -0.25em 0 hsl(30,90%,55%) inset;
          top: -0.25em;
          right: -0.25em;
          width: 0.75em;
          height: 0.75em;
          transform-origin: 50% 75%;
        }

        .hamster__eye {
          animation: hamsterEye var(--dur) linear infinite;
          background-color: hsl(0,0%,0%);
          border-radius: 50%;
          top: 0.375em;
          left: 1.25em;
          width: 0.5em;
          height: 0.5em;
        }

        .hamster__nose {
          background: hsl(0,90%,75%);
          border-radius: 35% 65% 85% 15% / 70% 50% 50% 30%;
          top: 0.75em;
          left: 0;
          width: 0.2em;
          height: 0.25em;
        }

        .hamster__body {
          animation: hamsterBody var(--dur) ease-in-out infinite;
          background: hsl(30,90%,90%);
          border-radius: 50% 30% 50% 30% / 15% 60% 40% 40%;
          box-shadow: 0.1em 0.75em 0 hsl(30,90%,55%) inset,
                0.15em -0.5em 0 hsl(30,90%,80%) inset;
          top: 0.25em;
          left: 2em;
          width: 4.5em;
          height: 3em;
          transform-origin: 17% 50%;
          transform-style: preserve-3d;
        }

        .hamster__limb--fr,
        .hamster__limb--fl {
          clip-path: polygon(0 0,100% 0,70% 80%,60% 100%,0% 100%,40% 80%);
          top: 2em;
          left: 0.5em;
          width: 1em;
          height: 1.5em;
          transform-origin: 50% 0;
        }

        .hamster__limb--fr {
          animation: hamsterFRLimb var(--dur) linear infinite;
          background: linear-gradient(hsl(30,90%,80%) 80%,hsl(0,90%,75%) 80%);
          transform: rotate(15deg) translateZ(-1px);
        }

        .hamster__limb--fl {
          animation: hamsterFLLimb var(--dur) linear infinite;
          background: linear-gradient(hsl(30,90%,90%) 80%,hsl(0,90%,85%) 80%);
          transform: rotate(15deg);
        }

        .hamster__limb--br,
        .hamster__limb--bl {
          border-radius: 0.75em 0.75em 0 0;
          clip-path: polygon(0 0,100% 0,100% 30%,70% 90%,70% 100%,30% 100%,40% 90%,0% 30%);
          top: 1em;
          left: 2.8em;
          width: 1.5em;
          height: 2.5em;
          transform-origin: 50% 30%;
        }

        .hamster__limb--br {
          animation: hamsterBRLimb var(--dur) linear infinite;
          background: linear-gradient(hsl(30,90%,80%) 90%,hsl(0,90%,75%) 90%);
          transform: rotate(-25deg) translateZ(-1px);
        }

        .hamster__limb--bl {
          animation: hamsterBLLimb var(--dur) linear infinite;
          background: linear-gradient(hsl(30,90%,90%) 90%,hsl(0,90%,85%) 90%);
          transform: rotate(-25deg);
        }

        .hamster__tail {
          animation: hamsterTail var(--dur) linear infinite;
          background: hsl(0,90%,85%);
          border-radius: 0.25em 50% 50% 0.25em;
          box-shadow: 0 -0.2em 0 hsl(0,90%,75%) inset;
          top: 1.5em;
          right: -0.5em;
          width: 1em;
          height: 0.5em;
          transform: rotate(30deg) translateZ(-1px);
          transform-origin: 0.25em 0.25em;
        }

        .spoke {
          animation: spoke var(--dur) linear infinite;
          background: radial-gradient(100% 100% at center,hsl(0,0%,60%) 4.8%,hsla(0,0%,60%,0) 5%),
                linear-gradient(hsla(0,0%,55%,0) 46.9%,hsl(0,0%,65%) 47% 52.9%,hsla(0,0%,65%,0) 53%) 50% 50% / 99% 99% no-repeat;
        }

        /* Animations */
        @keyframes hamster {
          from, to {
            transform: rotate(4deg) translate(-0.8em,1.85em);
          }

          50% {
            transform: rotate(0) translate(-0.8em,1.85em);
          }
        }

        @keyframes hamsterHead {
          from, 25%, 50%, 75%, to {
            transform: rotate(0);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(8deg);
          }
        }

        @keyframes hamsterEye {
          from, 90%, to {
            transform: scaleY(1);
          }

          95% {
            transform: scaleY(0);
          }
        }

        @keyframes hamsterEar {
          from, 25%, 50%, 75%, to {
            transform: rotate(0);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(12deg);
          }
        }

        @keyframes hamsterBody {
          from, 25%, 50%, 75%, to {
            transform: rotate(0);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(-2deg);
          }
        }

        @keyframes hamsterFRLimb {
          from, 25%, 50%, 75%, to {
            transform: rotate(50deg) translateZ(-1px);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(-30deg) translateZ(-1px);
          }
        }

        @keyframes hamsterFLLimb {
          from, 25%, 50%, 75%, to {
            transform: rotate(-30deg);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(50deg);
          }
        }

        @keyframes hamsterBRLimb {
          from, 25%, 50%, 75%, to {
            transform: rotate(-60deg) translateZ(-1px);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(20deg) translateZ(-1px);
          }
        }

        @keyframes hamsterBLLimb {
          from, 25%, 50%, 75%, to {
            transform: rotate(20deg);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(-60deg);
          }
        }

        @keyframes hamsterTail {
          from, 25%, 50%, 75%, to {
            transform: rotate(30deg) translateZ(-1px);
          }

          12.5%, 37.5%, 62.5%, 87.5% {
            transform: rotate(10deg) translateZ(-1px);
          }
        }

        @keyframes spoke {
          from {
            transform: rotate(0);
          }

          to {
            transform: rotate(-1turn);
          }
        }

    </style>
</head>
<body class="neumorphism-bg">
    
    <!-- App Loader -->
    <div id="app-loader" class="fixed inset-0 z-[100] flex flex-col items-center justify-center">
        <i class="loader loader--7"></i>
        <p id="loader-message" class="text-white mt-6 text-lg tracking-wider" data-translate-key="loader_loading">Loading Application...</p>
    </div>
    
    <div id="wave-background">
        <div class="air air1"></div>
        <div class="air air2"></div>
        <div class="air air3"></div>
        <div class="air air4"></div>
    </div>

    <div class="relative w-full min-h-screen">

        <!-- Login Page -->
        <div id="login-page" class="page active">
            <div class="w-full max-w-sm neumorphism-card">
                <div class="brand-logo">
                    <img src="https://i.ibb.co/rKGzpgxJ/Gemini-Generated-Image-r3ebc7r3ebc7r3eb-1.jpg" alt="Logo">
                </div>
                <div class="brand-title">SURYA</div>
                <form id="login-form" class="space-y-6 mt-6" onsubmit="handleLogin(event)">
                    <div class="neumorphism-input-wrapper">
                         <span class="fa fa-user"></span>
                         <input id="username" type="text" placeholder="Username (try 'username')" required class="neumorphism-input">
                    </div>
                    <div class="neumorphism-input-wrapper">
                         <span class="fa fa-lock"></span>
                         <input id="password" type="password" placeholder="Password (try 'password')" required class="neumorphism-input">
                    </div>
                    <button type="submit" class="neumorphism-btn mt-8" data-translate-key="login_button">LOGIN</button>
                </form>
                 <p id="login-error" class="text-center text-red-600 text-sm hidden mt-4" data-translate-key="login_error">Invalid credentials.</p>
            </div>
        </div>
        
        <!-- Consent Page -->
        <div id="consent-page" class="page">
            <div class="w-full max-w-lg p-8 space-y-6 rounded-2xl styled-card bg-white no-hover">
                 <h1 class="text-2xl font-bold text-slate-800" data-translate-key="consent_title">Your Consent is Required</h1>
                 <p class="text-slate-600" data-translate-key="consent_p1">To help SURYA with transportation planning, this app collects trip-related information such as your origin, destination, time, and mode of travel. This data is used solely for research and planning purposes to improve infrastructure in Kerala.</p>
                 <div class="flex items-start space-x-3 pt-4">
                     <input type="checkbox" id="consent-checkbox" class="h-5 w-5 rounded mt-1 border-gray-300 text-sky-600 focus:ring-sky-500">
                     <label for="consent-checkbox" class="text-slate-700" data-translate-key="consent_checkbox_label">I consent to the collection of my trip data for SURYA's transportation planning purposes.</label>
                 </div>
                 <div class="flex items-center justify-end space-x-4 pt-6">
                    <button onclick="handleLogout()" class="px-6 py-2 font-semibold text-slate-700 rounded-lg hover:bg-slate-100 transition" data-translate-key="consent_decline">Decline</button>
                    <button id="consent-agree-btn" onclick="handleConsent()" class="px-6 py-2 font-semibold text-white bg-sky-600 rounded-lg hover:bg-sky-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed" disabled data-translate-key="consent_agree">Agree & Continue</button>
                 </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about-page" class="page app-page">
            <div class="w-full max-w-4xl space-y-12">
                <div class="flex items-center">
                    <button onclick="switchPage('home-page')" class="animated-back-btn">
                        <div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div>
                    </button>
                    <h1 class="text-3xl font-bold text-slate-800 ml-4" data-translate-key="about_title">About Our Project</h1>
                </div>

                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <h2 class="text-2xl font-bold text-sky-700 mb-4" data-translate-key="about_sih_title">Prototype for Smart India Hackathon 2025</h2>
                    <p class="text-slate-600" data-translate-key="about_sih_p">This application is a functional prototype developed by our team for the upcoming Smart India Hackathon. We aim to solve real-world transportation challenges with innovative technology.</p>
                </div>

                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <h2 class="text-2xl font-bold text-slate-800 mb-8 text-center" data-translate-key="about_team_title">Meet The Team</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-10 gap-x-6">
                        <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="https://i.ibb.co/d0mjDMt6/Gemini-Generated-Image-p6cgu6p6cgu6p6cg.png" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=AJ';" alt="Team Lead">
                            <h3 class="font-bold text-lg text-slate-800">Manas Samanta</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_lead">Team Lead</p>
                        </div>
                        <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="https://i.ibb.co/Xk8kfbFp/Gemini-Generated-Image-vtytfevtytfevtyt.png" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=BS';" alt="Frontend Developer">
                            <h3 class="font-bold text-lg text-slate-800">Arunava Das</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_frontend">Frontend Developer</p>
                        </div>
                        <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="https://i.ibb.co/d0mjDMt6/Gemini-Generated-Image-p6cgu6p6cgu6p6cg.png" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=CD';" alt="Backend Developer">
                            <h3 class="font-bold text-lg text-slate-800">Manas Samanta</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_backend">Backend Developer</p>
                        </div>
                         <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=MB';" alt="UI/UX Designer">
                            <h3 class="font-bold text-lg text-slate-800">Manjulika Bachar</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_uiux">UI/UX Designer</p>
                        </div>
                        <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="https://i.ibb.co/YBGwwFkx/Gemini-Generated-Image-tv4iaxtv4iaxtv4i.png" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=EM';" alt="Database Specialist">
                            <h3 class="font-bold text-lg text-slate-800">Abid Hossain</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_db">Database Specialist</p>
                        </div>
                         <div class="text-center">
                            <img class="w-32 h-32 rounded-full mx-auto mb-4 shadow-lg object-cover" src="https://i.ibb.co/cXThVBTL/Gemini-Generated-Image-vdyf9vdyf9vdyf9v.png" onerror="this.onerror=null;this.src='https://placehold.co/128x128/e0e7ff/374151?text=FR';" alt="AI/ML Engineer">
                            <h3 class="font-bold text-lg text-slate-800">Soumya Bera</h3>
                            <p class="text-sky-600 font-semibold" data-translate-key="about_role_ai">AI/ML Engineer</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- States Placeholder Page -->
        <div id="states-placeholder-page" class="page app-page bg-slate-100">
            <div class="text-center p-8 flex flex-col items-center">
                <div aria-label="Orange and tan hamster running in a metal wheel" role="img" class="wheel-and-hamster">
                    <div class="wheel"></div>
                    <div class="hamster">
                        <div class="hamster__body">
                            <div class="hamster__head">
                                <div class="hamster__ear"></div>
                                <div class="hamster__eye"></div>
                                <div class="hamster__nose"></div>
                            </div>
                            <div class="hamster__limb hamster__limb--fr"></div>
                            <div class="hamster__limb hamster__limb--fl"></div>
                            <div class="hamster__limb hamster__limb--br"></div>
                            <div class="hamster__limb hamster__limb--bl"></div>
                            <div class="hamster__tail"></div>
                        </div>
                    </div>
                    <div class="spoke"></div>
                </div>
                <h1 class="text-4xl font-bold text-slate-800 mt-6 mb-2">Page Under Construction</h1>
                <p class="text-lg text-slate-600 mb-8">Our team is working hard to bring this feature to you soon!</p>
                <button onclick="switchPage('home-page')" class="px-8 py-3 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-transform transform hover:scale-105">
                    Return to Dashboard
                </button>
            </div>
        </div>


        <!-- App Header (Fixed) -->
        <div id="app-header" class="fixed top-0 left-0 w-full bg-white/90 backdrop-blur-sm shadow-sm z-20 p-4 hidden">
            <div class="max-w-4xl mx-auto flex justify-between items-center">
                <h1 class="text-xl font-bold text-sky-600" data-translate-key="dashboard_title">SURYA Dashboard</h1>

                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" onclick="switchPage('home-page'); return false;" class="text-slate-700 hover:text-sky-600 font-semibold transition" data-translate-key="nav_home">Home</a>
                    <a href="#" onclick="switchPage('about-page'); return false;" class="text-slate-700 hover:text-sky-600 font-semibold transition" data-translate-key="nav_about">About</a>
                    
                    <!-- States Dropdown -->
                    <details class="custom-dropdown">
                        <summary role="button">
                            <span class="summary-button">
                                <span data-translate-key="nav_states">States</span>
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </span>
                        </summary>
                        <ul>
                            <li>
                                <a href="#" onclick="switchPage('kerala-page'); return false;" class="highlight" data-translate-key="nav_kerala">Kerala</a>
                            </li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Andaman and Nicobar Islands</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Andhra Pradesh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Arunachal Pradesh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Assam</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Bihar</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Chandigarh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Chhattisgarh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Dadra and Nagar Haveli and Daman and Diu</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Delhi</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Goa</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Gujarat</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Haryana</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Himachal Pradesh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Jammu and Kashmir</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Jharkhand</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Karnataka</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Ladakh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Lakshadweep</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Madhya Pradesh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Maharashtra</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Manipur</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Meghalaya</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Mizoram</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Nagaland</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Odisha</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Puducherry</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Punjab</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Rajasthan</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Sikkim</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Tamil Nadu</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Telangana</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Tripura</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Uttar Pradesh</a></li>
                            <li><a href="#" onclick="switchPage('states-placeholder-page'); return false;">Uttarakhand</a></li>
                            <li><a href="#" onclick="switchPage('west-bengal-page'); return false;">West Bengal</a></li>
                        </ul>
                    </details>
                </nav>

                <div class="hidden md:flex items-center space-x-4">
                    <div id="language-selector-container">
                        <select id="language-selector">
                            <option value="en">English</option>
                            <option value="hi">हिन्दी</option>
                            <option value="ml">മലയാളം</option>
                            <option value="ta">தமிழ்</option>
                            <option value="bn">বাংলা</option>
                        </select>
                    </div>
                    <button class="Btn" onclick="handleLogout()">
                      <div class="sign">
                        <svg viewBox="0 0 512 512">
                          <path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path>
                        </svg>
                      </div>
                      <div class="text" data-translate-key="nav_logout">Logout</div>
                    </button>
                </div>
                <!-- Mobile Menu Toggler -->
                <div class="md:hidden z-[1000]">
                    <div class="new-hamburger-menu-icon" id="mobile-menu-icon">
                        <div class="icon-1" id="mobile-icon-a"></div>
                        <div class="icon-2" id="mobile-icon-b"></div>
                        <div class="icon-3" id="mobile-icon-c"></div>
                        <div class="clear"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu (Full Screen Overlay) -->
        

        <!-- Home Page -->
        <div id="home-page" class="page app-page">
             <div class="w-full max-w-4xl space-y-8">
                 <div class="p-6 rounded-2xl styled-card text-center bg-white/80 backdrop-blur-sm no-hover">
                    <h2 class="text-xl font-bold text-slate-800 mb-3" data-translate-key="home_trip_status_title">Trip Status</h2>
                    <p id="tracking-status" class="text-lg text-slate-600 mb-4" data-translate-key="home_trip_status_text">Current Status: <span class="font-bold text-red-500" data-translate-key="status_outside_kerala">Outside Kerala</span></p>
                    <div class="glass-radio-group">
                        <input type="radio" name="tracking" id="glass-exit" checked onchange="simulateTracking('exit')">
                        <label for="glass-exit" data-translate-key="home_status_outside">Outside</label>
                        <input type="radio" name="tracking" id="glass-enter" onchange="simulateTracking('enter')">
                        <label for="glass-enter" data-translate-key="home_status_inside">Inside</label>
                        <div class="glass-glider"></div>
                    </div>
                    <!-- Feedback Prompt - Shows when inside Kerala -->
                    <div id="feedback-prompt" class="hidden mt-6 pt-6 border-t border-slate-200">
                        <p class="text-slate-600" data-translate-key="feedback_prompt">You've been in Kerala for <span id="days-in-kerala" class="font-bold">X</span> days. Please share your experience to help us improve!</p>
                        <button
                          onclick="showFeedbackModal()"
                          class="flex justify-center gap-2 items-center mx-auto shadow-xl text-lg bg-gray-50 backdrop-blur-md font-semibold isolation-auto border-gray-50 before:absolute before:w-full before:transition-all before:duration-700 before:hover:w-full before:-left-full before:hover:left-0 before:rounded-full before:bg-sky-500 hover:text-gray-50 before:-z-10 before:aspect-square before:hover:scale-150 before:hover:duration-700 relative z-10 px-6 py-2 overflow-hidden border-2 rounded-full group mt-4"
                        >
                          <span data-translate-key="feedback_button">Give Feedback</span>
                          <svg
                            class="w-8 h-8 justify-end group-hover:rotate-90 group-hover:bg-gray-50 text-gray-50 ease-linear duration-300 rounded-full border border-gray-700 group-hover:border-none p-2 rotate-45"
                            viewBox="0 0 16 19"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M7 18C7 18.5523 7.44772 19 8 19C8.55228 19 9 18.5523 9 18H7ZM8.70711 0.292893C8.31658 -0.0976311 7.68342 -0.0976311 7.29289 0.292893L0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107C1.31946 8.46159 1.95262 8.46159 2.34315 8.07107L8 2.41421L13.6569 8.07107C14.0474 8.46159 14.6805 8.46159 15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685L8.70711 0.292893ZM9 18L9 1H7L7 18H9Z"
                              class="fill-gray-800 group-hover:fill-gray-800"
                            ></path>
                          </svg>
                        </button>
                    </div>
                 </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-12 justify-center">
                    <div class="home-card" onclick="switchPage('tourism-page')"> <p class="heading" data-translate-key="home_card_tourism_title">Tourism</p> <p data-translate-key="home_card_tourism_sub1">Plan Your Trip</p> <p data-translate-key="home_card_tourism_sub2">Explore Kerala</p> </div>
                    <div class="home-card" onclick="switchPage('medical-page')"> <p class="heading" data-translate-key="home_card_medical_title">Medical</p> <p data-translate-key="home_card_medical_sub1">Health & Wellness</p> <p data-translate-key="home_card_medical_sub2">Travel with Care</p> </div>
                    <div class="home-card" onclick="switchPage('registration-page')"> <p class="heading" data-translate-key="home_card_pass_title">Travel Pass</p> <p data-translate-key="home_card_pass_sub1">Get Your Permit</p> <p data-translate-key="home_card_pass_sub2">Register Now</p> </div>
                </div>
             </div>
        </div>
        
        <!-- Kerala Page -->
        <div id="kerala-page" class="page app-page">
            <div class="w-full max-w-4xl space-y-12">
                <div class="flex items-center">
                    <button onclick="switchPage('home-page')" class="animated-back-btn">
                        <div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div>
                    </button>
                    <h1 class="text-3xl font-bold text-slate-800 ml-4">Explore Kerala</h1>
                </div>
<!--Manjulika Bachar -->
                <!-- Hero Section -->
                <div class="kerala-hero h-64 rounded-2xl flex items-center justify-center text-white text-center p-4">
                    <div>
                        <h2 class="text-4xl font-extrabold">God's Own Country</h2>
                        <p class="mt-2 text-lg font-light">Discover the serene backwaters and lush green landscapes.</p>
                    </div>
                </div>
                
                <!-- History & Culture -->
                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                        <img src="https://www.10wallpaper.com/wallpaper/1366x768/2209/Kathakali_Dance_Performing_Kerala_India_2022_Bing_5K_1366x768.jpg" 
                             alt="Kathakali Dancer" 
                             class="rounded-lg shadow-lg w-full h-auto col-span-1 object-cover aspect-square"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x400/1e293b/FFFFFF?text=Kathakali+Dancer';">
                        <div class="md:col-span-2">
                             <h3 class="text-2xl font-bold text-slate-800 mb-4">History & Culture</h3>
                             <p class="text-slate-600 mb-4">Kerala's history is a rich tapestry woven with ancient trade routes, colonial influences, and a unique cultural synthesis. It has been a melting pot for various cultures for centuries, which is reflected in its architecture, literature, and performing arts.</p>
                             <p class="text-slate-600">The state is renowned for its classical art forms like <span class="font-semibold text-sky-600">Kathakali</span>, a vibrant and dramatic dance-drama, and <span class="font-semibold text-sky-600">Mohiniyattam</span>, an elegant and graceful dance form. Festivals like Onam and Thrissur Pooram are celebrated with immense fervor, showcasing the state's communal harmony and rich traditions.</p>
                        </div>
                    </div>
                </div>

                <!-- Cuisine -->
                 <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                         <div class="md:col-span-2">
                             <h3 class="text-2xl font-bold text-slate-800 mb-4">A Gastronomic Journey</h3>
                             <p class="text-slate-600 mb-4">Kerala's cuisine is a delightful exploration of flavors, characterized by the generous use of coconut, rice, tapioca, and a myriad of spices. Being a coastal state, seafood is a staple, with dishes like <span class="font-semibold text-green-600">Karimeen Pollichathu</span> (Pearl Spot fish marinated and baked in banana leaves) being a local delicacy.</p>
                             <p class="text-slate-600">The traditional vegetarian feast, the <span class="font-semibold text-green-600">Sadhya</span>, served on a banana leaf, is an unforgettable experience with over two dozen dishes. Don't miss out on Appam with stew, Puttu and Kadala curry, and the delicious Malabar Biryani.</p>
                        </div>
                        <img src="https://img.freepik.com/free-photo/grilled-beef-pork-with-fresh-guacamole-generated-by-ai_188544-38177.jpg" 
                             alt="Kerala Sadhya Feast" 
                             class="rounded-lg shadow-lg w-full h-auto col-span-1 object-cover aspect-square"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x400/16a34a/FFFFFF?text=Kerala+Sadhya';">
                    </div>
                </div>

                <!-- Places to Visit -->
                <div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">Must-Visit Destinations</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://wallpaperaccess.com/full/2754528.jpg" 
                                  alt="Munnar Tea Gardens" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/0ea5e9/FFFFFF?text=Munnar';">
                             <h4 class="font-bold text-lg">Munnar</h4>
                             <p class="text-sm text-slate-500">Endless rolling hills of tea plantations.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://imgcdn.flamingotravels.co.in/Images/PlacesOfInterest/Houseboat-Alleppey-Kerala-3.jpg" 
                                  alt="Alleppey Houseboat" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/059669/FFFFFF?text=Alleppey';">
                             <h4 class="font-bold text-lg">Alleppey</h4>
                             <p class="text-sm text-slate-500">Cruise the serene backwaters on a houseboat.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://peppervine.in/uploads/blog/aa293aa70c217164478d87873876ee21.jpeg" 
                                  alt="Thekkady Wildlife" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/d97706/FFFFFF?text=Thekkady';">
                             <h4 class="font-bold text-lg">Thekkady</h4>
                             <p class="text-sm text-slate-500">Home to the Periyar National Park and wildlife.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://www.keralam.me/wp-content/uploads/2019/03/fort-kochi.jpg" 
                                  alt="Fort Kochi" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/64748b/FFFFFF?text=Kochi';">
                             <h4 class="font-bold text-lg">Kochi</h4>
                             <p class="text-sm text-slate-500">A vibrant port city with a rich history.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
                <!-- West Bengal Page -->
        <div id="west-bengal-page" class="page app-page">
            <div class="w-full max-w-4xl space-y-12">
                <div class="flex items-center">
                    <button onclick="switchPage('home-page')" class="animated-back-btn">
                        <div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div>
                    </button>
                    <h1 class="text-3xl font-bold text-slate-800 ml-4">Explore West Bengal</h1>
                </div>

                <!-- Hero Section -->
                <div class="state-hero westbengal-hero h-64 rounded-2xl flex items-center justify-center text-white text-center p-4">
                    <div>
                        <h2 class="text-4xl font-extrabold">India's Cultural Capital</h2>
                        <p class="mt-2 text-lg font-light">A land of literature, art, and revolutionary history.</p>
                    </div>
                </div>
                
                <!-- History & Culture -->
                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                        <img src="https://cdn.pixabay.com/photo/2017/06/12/08/29/victoria-memorial-2394784_1280.jpg" 
                             alt="Durga Puja Festival" 
                             class="rounded-lg shadow-lg w-full h-auto col-span-1 object-cover aspect-square"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x400/1e293b/FFFFFF?text=Durga+Puja';">
                        <div class="md:col-span-2">
                             <h3 class="text-2xl font-bold text-slate-800 mb-4">Literary & Artistic Heritage</h3>
                             <p class="text-slate-600 mb-4">West Bengal is the heartland of the Bengal Renaissance, a period of profound social, cultural, and artistic awakening. It's the land of Nobel laureate <span class="font-semibold text-sky-600">Rabindranath Tagore</span>, whose literature and music have shaped Indian culture. The state's capital, Kolkata, is often called the 'City of Joy'.</p>
                             <p class="text-slate-600">The culture is vibrant with festivals, the grandest being <span class="font-semibold text-sky-600">Durga Puja</span>, a UNESCO Intangible Cultural Heritage. Traditional arts like the terracotta work of Bishnupur and the Baul music tradition are integral to its identity.</p>
                        </div>
                    </div>
                </div>

                <!-- Cuisine -->
                 <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                         <div class="md:col-span-2">
                             <h3 class="text-2xl font-bold text-slate-800 mb-4">A Feast for the Senses</h3>
                             <p class="text-slate-600 mb-4">Bengali cuisine is celebrated for its subtle yet fiery flavours, with a perfect balance of sweet and spicy. It is the only traditionally developed multi-course culinary tradition from the Indian subcontinent. Fish is a staple, with dishes like <span class="font-semibold text-green-600">Macher Jhol</span> (fish curry) and <span class="font-semibold text-green-600">Shorshe Ilish</span> (hilsa in mustard gravy) being iconic.</p>
                             <p class="text-slate-600">No Bengali meal is complete without sweets. The state is famous for its confectioneries, especially <span class="font-semibold text-green-600">Rosogolla</span>, <span class="font-semibold text-green-600">Sandesh</span>, and <span class="font-semibold text-green-600">Mishti Doi</span> (sweet yogurt).</p>
                        </div>
                        <img src="https://1.bp.blogspot.com/-Q09XMt2yzmI/To7ktrG5YWI/AAAAAAAAAX0/oc7DUWelYIc/s1600/Bengali+Food.jpg" 
                             alt="Bengali Thali" 
                             class="rounded-lg shadow-lg w-full h-auto col-span-1 object-cover aspect-square"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x400/16a34a/FFFFFF?text=Bengali+Cuisine';">
                    </div>
                </div>

                <!-- Durga Puja Section -->
                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                        <img src="https://wallpapercave.com/wp/wp5478381.jpg" 
                             alt="Durga Puja Pandal" 
                             class="rounded-lg shadow-lg w-full h-auto col-span-1 object-cover aspect-square"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x400/ef4444/FFFFFF?text=Durga+Puja';">
                        <div class="md:col-span-2">
                             <h3 class="text-2xl font-bold text-slate-800 mb-4">Durga Puja: The Heartbeat of Bengal</h3>
                             <p class="text-slate-600 mb-4">More than just a festival, Durga Puja is an emotion that engulfs West Bengal for five days in autumn. It is the grandest celebration in the state, transforming cities and towns into a massive, open-air art gallery. The festival celebrates the victory of the goddess Durga over the demon Mahishasur.</p>
                             <p class="text-slate-600">Tourists from around the globe flock to witness the artistic marvels of the themed <span class="font-semibold text-red-600">pandals</span> (temporary structures) and the exquisitely crafted idols of the goddess. The air is filled with the sounds of dhak (traditional drums), devotional songs, and joyous celebrations, making it an unforgettable cultural spectacle and a prime tourist attraction.</p>
                        </div>
                    </div>
                </div>

                <!-- Places to Visit -->
                <div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">Must-Visit Destinations</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://i.pinimg.com/originals/86/89/7e/86897e585ffc9db88d85e709fb183291.jpg" 
                                  alt="Victoria Memorial" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/0ea5e9/FFFFFF?text=Kolkata';">
                             <h4 class="font-bold text-lg">Kolkata</h4>
                             <p class="text-sm text-slate-500">The City of Joy, rich in history and art.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://wallpapercave.com/wp/wp6191795.jpg" 
                                  alt="Darjeeling Toy Train" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/059669/FFFFFF?text=Darjeeling';">
                             <h4 class="font-bold text-lg">Darjeeling</h4>
                             <p class="text-sm text-slate-500">Famous for tea gardens and Himalayan views.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://bigcatsindia.com/wp-content/uploads/2018/06/Royal-Bengal-Tiger.jpg" 
                                  alt="Royal Bengal Tiger" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/d97706/FFFFFF?text=Sundarbans';">
                             <h4 class="font-bold text-lg">Sundarbans</h4>
                             <p class="text-sm text-slate-500">The world's largest mangrove forest.</p>
                        </div>
                        <div class="styled-card bg-white/80 backdrop-blur-sm p-4 text-center hover:shadow-2xl hover:-translate-y-2">
                             <img src="https://mediaindia.eu/wp-content/uploads/2021/05/Bishnupur-main.jpg" 
                                  alt="Bishnupur Terracotta Temples" 
                                  class="rounded-lg mb-4 w-full object-cover aspect-[3/2]"
                                  onerror="this.onerror=null;this.src='https://placehold.co/300x200/64748b/FFFFFF?text=Bishnupur';">
                             <h4 class="font-bold text-lg">Bishnupur</h4>
                             <p class="text-sm text-slate-500">Known for its unique terracotta temples.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        
        <!-- Tourism Page -->
        <div id="tourism-page" class="page app-page">
            <div class="w-full max-w-4xl space-y-8">
                <div class="flex items-center">
                    <button onclick="switchPage('home-page')" class="animated-back-btn">
                        <div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div>
                    </button>
                    <h1 class="text-3xl font-bold text-slate-800 ml-4">Plan Tourism Trip</h1>
                </div>
                <div class="p-6 sm:p-8 rounded-2xl styled-card bg-white/80 backdrop-blur-sm space-y-6 no-hover"><h2 class="text-2xl font-bold text-center text-slate-800">AI Itinerary Generator</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input id="planner-destination" type="text" placeholder="Destination" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition md:col-span-2"><input id="planner-start-date" type="text" placeholder="Start Date" onfocus="(this.type='date')" onblur="this.type='text'" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition"><input id="planner-end-date" type="text" placeholder="End Date" onfocus="(this.type='date')" onblur="this.type='text'" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition"><input id="planner-budget" type="number" placeholder="Budget (in INR, e.g., 50000)" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition md:col-span-2"></div><button onclick="generateTripPlan()" class="w-full py-3 font-semibold text-lg text-white bg-sky-600 rounded-lg hover:bg-sky-700 transition-all">Generate AI Itinerary</button></div>
                <div class="pt-6"><h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">Book Individual Services</h2>
                     <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                        <button onclick="handleBooking('Hotels')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building w-10 h-10" viewBox="0 0 16 16">  <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/>  <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"/></svg>Hotels</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Flights')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-airplane w-10 h-10" viewBox="0 0 16 16">  <path d="M6.428 1.151C6.708.591 7.213 0 8 0s1.292.592 1.572 1.151C9.861 1.73 10 2.431 10 3v3.691l5.17 2.585a1.5 1.5 0 0 1 .83 1.342V12a.5.5 0 0 1-.582.493l-5.507-.918-.375 2.253 1.318 1.318A.5.5 0 0 1 10.5 16h-5a.5.5 0 0 1-.354-.854l1.319-1.318-.376-2.253-5.507.918A.5.5 0 0 1 0 12v-1.382a1.5 1.5 0 0 1 .83-1.342L6 6.691V3c0-.568.14-1.271.428-1.849m.894.448C7.111 2.02 7 2.569 7 3v4a.5.5 0 0 1-.276.447l-5.448 2.724a.5.5 0 0 0-.276.447v.792l5.418-.903a.5.5 0 0 1 .575.41l.5 3a.5.5 0 0 1-.14.437L6.708 15h2.586l-.647-.646a.5.5 0 0 1-.14-.436l.5-3a.5.5 0 0 1 .576-.411L15 11.41v-.792a.5.5 0 0 0-.276-.447L9.276 7.447A.5.5 0 0 1 9 7V3c0-.432-.11-.979-.322-1.401C8.458 1.159 8.213 1 8 1s-.458.158-.678.599"/></svg>Flights</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Trains')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-train-front w-10 h-10" viewBox="0 0 16 16">  <path d="M5.621 1.485c1.815-.454 2.943-.454 4.758 0 .784.196 1.743.673 2.527 1.119.688.39 1.094 1.148 1.094 1.979V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V4.583c0-.831.406-1.588 1.094-1.98.784-.445 1.744-.922 2.527-1.118m5-.97C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0m0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m7 1a1 1 0 1 0-1-1 1 1 0 1 0-2 0 1 1 0 0 0 2 0 1 1 0 0 0 1 1M4.5 5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h3V5zm4 0v3h3a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zM3 5.5A1.5 1.5 0 0 1 4.5 4h7A1.5 1.5 0 0 1 13 5.5v2A1.5 1.5 0 0 1 11.5 9h-7A1.5 1.5 0 0 1 3 7.5zM6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"/></svg>Trains</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Cabs')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill w-10 h-10" viewBox="0 0 16 16">  <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>Cabs</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                     </div>
                 </div>
            </div>
        </div>
        
        <!-- Medical Travel Page -->
        <div id="medical-page" class="page app-page">
             <div class="w-full max-w-4xl space-y-8">
                 <div class="flex items-center"><button onclick="switchPage('home-page')" class="animated-back-btn"><div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div></button><h1 class="text-3xl font-bold text-slate-800 ml-4">Plan Medical Travel</h1></div>
                 <div class="p-6 sm:p-8 rounded-2xl styled-card bg-white/80 backdrop-blur-sm space-y-6 no-hover"><h2 class="text-2xl font-bold text-center text-slate-800">AI Trip Assistant</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input id="medical-destination" placeholder="Destination Hospital / City" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition md:col-span-2"><input id="medical-start-date" placeholder="Appointment Date" onfocus="(this.type='date')" onblur="this.type='text'" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition"><input id="medical-end-date" placeholder="Approx. Return Date" onfocus="(this.type='date')" onblur="this.type='text'" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition"><input id="medical-budget" type="number" placeholder="Budget (in INR, e.g., 75000)" class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition md:col-span-2"></div><button onclick="planMedicalTrip()" class="w-full py-3 font-semibold text-lg text-white bg-sky-600 rounded-lg hover:bg-sky-700 transition-all">Plan My Medical Trip</button></div>
                 <div class="pt-6"><h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">Arrange Your Stay & Travel</h2>
                     <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                        <button onclick="handleBooking('Hospitals')" class="blob-btn hospital-glow"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building-add w-10 h-10" viewBox="0 0 16 16">  <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0"/>  <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6.5a.5.5 0 0 1-1 0V1H3v14h3v-2.5a.5.5 0 0 1 .5-.5H8v4H3a1 1 0 0 1-1-1z"/>  <path d="M4.5 2a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/></svg>Hospitals</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Hotels')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building w-10 h-10" viewBox="0 0 16 16">  <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/>  <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"/></svg>Hotels</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Flights')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-airplane w-10 h-10" viewBox="0 0 16 16">  <path d="M6.428 1.151C6.708.591 7.213 0 8 0s1.292.592 1.572 1.151C9.861 1.73 10 2.431 10 3v3.691l5.17 2.585a1.5 1.5 0 0 1 .83 1.342V12a.5.5 0 0 1-.582.493l-5.507-.918-.375 2.253 1.318 1.318A.5.5 0 0 1 10.5 16h-5a.5.5 0 0 1-.354-.854l1.319-1.318-.376-2.253-5.507.918A.5.5 0 0 1 0 12v-1.382a1.5 1.5 0 0 1 .83-1.342L6 6.691V3c0-.568.14-1.271.428-1.849m.894.448C7.111 2.02 7 2.569 7 3v4a.5.5 0 0 1-.276.447l-5.448 2.724a.5.5 0 0 0-.276.447v.792l5.418-.903a.5.5 0 0 1 .575.41l.5 3a.5.5 0 0 1-.14.437L6.708 15h2.586l-.647-.646a.5.5 0 0 1-.14-.436l.5-3a.5.5 0 0 1 .576-.411L15 11.41v-.792a.5.5 0 0 0-.276-.447L9.276 7.447A.5.5 0 0 1 9 7V3c0-.432-.11-.979-.322-1.401C8.458 1.159 8.213 1 8 1s-.458.158-.678.599"/></svg>Flights</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Trains')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-train-front w-10 h-10" viewBox="0 0 16 16">  <path d="M5.621 1.485c1.815-.454 2.943-.454 4.758 0 .784.196 1.743.673 2.527 1.119.688.39 1.094 1.148 1.094 1.979V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V4.583c0-.831.406-1.588 1.094-1.98.784-.445 1.744-.922 2.527-1.118m5-.97C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0m0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m7 1a1 1 0 1 0-1-1 1 1 0 1 0-2 0 1 1 0 0 0 2 0 1 1 0 0 0 1 1M4.5 5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h3V5zm4 0v3h3a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zM3 5.5A1.5 1.5 0 0 1 4.5 4h7A1.5 1.5 0 0 1 13 5.5v2A1.5 1.5 0 0 1 11.5 9h-7A1.5 1.5 0 0 1 3 7.5zM6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"/></svg>Trains</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                        <button onclick="handleBooking('Cabs')" class="blob-btn"><div class="flex flex-col items-center justify-center gap-2 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill w-10 h-10" viewBox="0 0 16 16">  <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>Cabs</div><span class="blob-btn__inner"><span class="blob-btn__blobs"><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span><span class="blob-btn__blob"></span></span></span></button>
                     </div>
                 </div>
            </div>
        </div>
        
        <!-- Registration & Pass Generation Page -->
        <div id="registration-page" class="page app-page">
            <div class="w-full max-w-2xl space-y-6">
                <div class="flex items-center"><button id="reg-back-btn" onclick="switchPage('home-page')" class="animated-back-btn"><div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div></button><h1 id="reg-title" class="text-3xl font-bold text-slate-800 ml-4">My Travel Pass</h1></div>
                <div class="p-8 rounded-2xl styled-card bg-white/80 backdrop-blur-sm space-y-8 no-hover" id="registration-forms-container">
                    <!-- Indian Citizen Form -->
                    <div id="indian-citizen-form">
                        <div>
                            <h2 class="text-xl font-semibold text-slate-700 mb-3">Your Details</h2>
                            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200 space-y-3">
                                <p><strong>Name:</strong> <span id="reg-user-name"></span></p>
                                <div class="flex flex-col sm:flex-row gap-4 items-center">
                                    <input id="user-aadhar-id" type="text" placeholder="Your Aadhar ID Number" class="flex-grow px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                    <button id="verify-aadhar-btn" onclick="showOtpModal()" class="px-5 py-2 font-semibold text-white bg-sky-600 rounded-lg whitespace-nowrap hover:bg-sky-700 transition">Verify</button>
                                </div>
                                <p id="aadhar-status" class="text-sm text-red-500 font-semibold">Verification Pending</p>
                            </div>
                        </div>
                        <div>
                            <h2 class="text-xl font-semibold text-slate-700 mb-3">Accompanying Travelers</h2>
                            <div id="companions-list" class="space-y-2 mb-4"><p class="text-sm text-slate-500">No companions added yet.</p></div>
                            <div class="flex flex-col sm:flex-row gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200">
                                <input id="companion-name" type="text" placeholder="Companion's Full Name" class="flex-grow px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <input id="companion-id" type="text" placeholder="Aadhar ID Number" class="flex-grow px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <button onclick="addCompanion()" class="px-5 py-2 font-semibold text-white bg-sky-600 rounded-lg whitespace-nowrap hover:bg-sky-700 transition">Add</button>
                            </div>
                        </div>
                        <button id="generate-pass-btn" onclick="generatePass()" class="w-full py-3 font-semibold text-lg text-white bg-green-600 rounded-lg hover:bg-green-700 transition-all disabled:bg-slate-400 disabled:cursor-not-allowed" disabled>Confirm & Save Pass</button>
                    </div>

                    <!-- Foreign National Form -->
                    <div id="foreign-national-form" class="hidden">
                         <div>
                            <h2 class="text-xl font-semibold text-slate-700 mb-3">Your Details (Foreign National)</h2>
                            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200 space-y-4">
                                <input id="foreign-name" type="text" placeholder="Your Full Name" class="w-full px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <input id="passport-number" type="text" placeholder="Passport Number" class="w-full px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <input id="visa-details" type="text" placeholder="Visa Details" class="w-full px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <select id="country-select" class="w-full px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                    <option value="">Select Country of Origin</option>
                                    <!-- Countries will be populated by JS -->
                                </select>
                            </div>
                        </div>
                        <div>
                            <h2 class="text-xl font-semibold text-slate-700 my-3">Accompanying Travelers</h2>
                            <div id="foreign-companions-list" class="space-y-2 mb-4"><p class="text-sm text-slate-500">No companions added yet.</p></div>
                            <div class="flex flex-col sm:flex-row gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200">
                                <input id="foreign-companion-name" type="text" placeholder="Companion's Full Name" class="flex-grow px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <input id="foreign-companion-id" type="text" placeholder="Passport Number" class="flex-grow px-4 py-2 text-slate-800 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition">
                                <button onclick="addForeignCompanion()" class="px-5 py-2 font-semibold text-white bg-sky-600 rounded-lg whitespace-nowrap hover:bg-sky-700 transition">Add</button>
                            </div>
                        </div>
                        <button id="generate-foreign-pass-btn" onclick="generateForeignPass()" class="mt-8 w-full py-3 font-semibold text-lg text-white bg-green-600 rounded-lg hover:bg-green-700 transition-all">Confirm & Save Pass</button>
                    </div>
                </div>

                <!-- Existing Pass Display -->
                <div id="existing-pass-container" class="w-full max-w-sm mx-auto space-y-6 mt-8 hidden">
                    <h2 class="text-2xl font-bold text-slate-700 text-center">Your Travel Pass</h2>
                    <div id="pass-details-inline" class="p-6 rounded-2xl bg-white/80 backdrop-blur-sm space-y-4 shadow-2xl no-hover">
                        <div class="text-center pb-4 border-b border-slate-200">
                            <h2 class="text-xl font-bold text-sky-600">VALID FOR TRAVEL</h2>
                            <p class="text-sm text-slate-500">SURYA, Govt. of Kerala</p>
                        </div>
                        <img src="https://i.ibb.co/Kx4K097n/Gemini-Generated-Image-n5ct3zn5ct3zn5ct.png" alt="QR Code" class="w-full max-w-[200px] mx-auto rounded-lg">
                        <div id="pass-user-details-inline" class="text-center"></div>
                        <div id="pass-companions-details-inline" class="text-center"></div>
                    </div>
                </div>

            </div>
        </div>
        
        <!-- Pass Display Page (REMOVED as it's now inline) -->
        
        <!-- Recommendation Page -->
        <div id="recommendation-page" class="page app-page">
             <div class="w-full max-w-4xl h-full flex flex-col p-2 sm:p-8 space-y-6"><div class="flex items-center"><button onclick="switchPage('tourism-page')" class="animated-back-btn"><div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div></button><h1 id="recommendation-title" class="text-3xl font-bold text-gray-900 ml-4">Your AI-Powered Itinerary</h1></div><div id="recommendation-details" class="flex-grow styled-card bg-white/80 backdrop-blur-sm rounded-2xl p-6 sm:p-8 itinerary-content custom-scrollbar no-hover"></div></div>
        </div>
        
        <!-- Detailed Service Booking Page -->
        <div id="detailed-booking-page" class="page app-page">
            <div class="w-full max-w-4xl space-y-8">
                <div class="flex items-center">
                    <button id="detailed-booking-back-btn" class="animated-back-btn"><div class="animated-back-btn-box"><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span><span class="animated-back-btn-elem"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="arrow-icon"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></div></button>
                    <h1 id="detailed-booking-title" class="text-3xl font-bold text-slate-800 ml-4">Book Service</h1>
                </div>
                <div id="detailed-booking-content" class="w-full">
                    <!-- Dynamic booking forms will be injected here -->
                </div>
            </div>
        </div>

        <!-- Payment Page -->
        <div id="payment-page" class="page app-page justify-center items-center">
             <div class="w-full max-w-lg text-center">
                <div class="w-[300px] p-2 aspect-square rounded-lg shadow flex flex-col items-center justify-center gap-2 bg-slate-50 mx-auto">
                    <p class="capitalize font-semibold self-start">Payment method</p>
                    <p class="text-[10px] self-start text-wrap text-gray-500 pb-1">
                        Select your preferred payment method.
                    </p>
                    <label class="inline-flex justify-between w-full items-center z-10 rounded-lg p-2 border border-transparent has-[:checked]:border-indigo-500 has-[:checked]:text-indigo-900 has-[:checked]:bg-indigo-50 has-[:checked]:font-bold hover:bg-slate-200 transition-all cursor-pointer has-[:checked]:transition-all has-[:checked]:duration-500 duration-500 relative [&amp;_p]:has-[:checked]:translate-y-0 [&amp;_p]:has-[:checked]:transition-transform [&amp;_p]:has-[:checked]:duration-500 [&amp;_p]:has-[:checked]:opacity-100 overflow-hidden">
                        <div class="inline-flex items-center justify-center gap-2 relative z-10">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><path d="M32 13.333l-4.177 9.333h-1.292l1.552-3.266-2.75-6.068h1.359l1.99 4.651h0.026l1.927-4.651zM14.646 16.219v3.781h-1.313v-9.333h3.474c0.828-0.021 1.63 0.266 2.25 0.807 0.615 0.505 0.953 1.219 0.943 1.974 0.010 0.766-0.339 1.5-0.943 1.979-0.604 0.531-1.354 0.792-2.25 0.792zM14.641 11.818v3.255h2.198c0.484 0.016 0.958-0.161 1.297-0.479 0.339-0.302 0.526-0.714 0.526-1.141 0-0.432-0.188-0.844-0.526-1.141-0.349-0.333-0.818-0.51-1.297-0.495zM22.63 13.333c0.833 0 1.495 0.234 1.979 0.698s0.724 1.099 0.724 1.906v3.859h-1.083v-0.87h-0.047c-0.469 0.714-1.089 1.073-1.865 1.073-0.667 0-1.219-0.203-1.667-0.615-0.438-0.385-0.682-0.948-0.672-1.531 0-0.646 0.234-1.161 0.708-1.547 0.469-0.38 1.099-0.573 1.885-0.573 0.672 0 1.224 0.13 1.656 0.385v-0.271c0.005-0.396-0.167-0.776-0.464-1.042-0.297-0.276-0.688-0.432-1.094-0.427-0.63 0-1.13 0.276-1.5 0.828l-0.995-0.646c0.547-0.818 1.359-1.229 2.432-1.229zM21.167 17.88c-0.005 0.302 0.135 0.583 0.375 0.766 0.25 0.203 0.563 0.313 0.88 0.307 0.474 0 0.932-0.198 1.271-0.547 0.359-0.333 0.563-0.802 0.563-1.292-0.354-0.292-0.844-0.438-1.474-0.438-0.464 0-0.844 0.115-1.151 0.344-0.307 0.234-0.464 0.516-0.464 0.859zM5.443 10.667c1.344-0.016 2.646 0.479 3.641 1.391l-1.552 1.521c-0.568-0.526-1.318-0.813-2.089-0.797-1.385 0.005-2.609 0.891-3.057 2.198-0.229 0.661-0.229 1.38 0 2.042 0.448 1.307 1.672 2.193 3.057 2.198 0.734 0 1.365-0.182 1.854-0.505 0.568-0.375 0.964-0.958 1.083-1.625h-2.938v-2.052h5.13c0.063 0.359 0.094 0.719 0.094 1.083 0 1.625-0.594 3-1.62 3.927-0.901 0.813-2.135 1.286-3.604 1.286-2.047 0.010-3.922-1.125-4.865-2.938-0.771-1.505-0.771-3.286 0-4.792 0.943-1.813 2.818-2.948 4.859-2.938z"></path></svg>
                            <p class="font-semibold absolute inset-0 w-full whitespace-nowrap translate-y-[110%] translate-x-full top-1 left-2 transition-all duration-700 opacity-0">Google Pay</p>
                        </div>
                        <input type="radio" name="payment" value="google" class="checked:text-indigo-500 checked:ring-0 checked:ring-current focus:ring-0 focus:ring-current">
                    </label>
                    <label class="inline-flex justify-between w-full items-center rounded-lg p-2 border border-transparent has-[:checked]:border-indigo-500 has-[:checked]:text-indigo-900 has-[:checked]:bg-indigo-50 has-[:checked]:font-bold hover:bg-slate-200 transition-all cursor-pointer has-[:checked]:transition-all has-[:checked]:duration-500 duration-500 relative [&amp;_p]:has-[:checked]:translate-y-0 [&amp;_p]:has-[:checked]:transition-transform [&amp;_p]:has-[:checked]:duration-500 [&amp;_p]:has-[:checked]:opacity-100 overflow-hidden">
                        <div class="inline-flex items-center justify-center gap-2 relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 640 512" fill="currentColor"><path d="M116.9 158.5c-7.5 8.9-19.5 15.9-31.5 14.9-1.5-12 4.4-24.8 11.3-32.6 7.5-9.1 20.6-15.6 31.3-16.1 1.2 12.4-3.7 24.7-11.1 33.8m10.9 17.2c-17.4-1-32.3 9.9-40.5 9.9-8.4 0-21-9.4-34.8-9.1-17.9.3-34.5 10.4-43.6 26.5-18.8 32.3-4.9 80 13.3 106.3 8.9 13 19.5 27.3 33.5 26.8 13.3-.5 18.5-8.6 34.5-8.6 16.1 0 20.8 8.6 34.8 8.4 14.5-.3 23.6-13 32.5-26 10.1-14.8 14.3-29.1 14.5-29.9-.3-.3-28-10.9-28.3-42.9-.3-26.8 21.9-39.5 22.9-40.3-12.5-18.6-32-20.6-38.8-21.1m100.4-36.2v194.9h30.3v-66.6h41.9c38.3 0 65.1-26.3 65.1-64.3s-26.4-64-64.1-64h-73.2zm30.3 25.5h34.9c26.3 0 41.3 14 41.3 38.6s-15 38.8-41.4 38.8h-34.8V165zm162.2 170.9c19 0 36.6-9.6 44.6-24.9h.6v23.4h28v-97c0-28.1-22.5-46.3-57.1-46.3-32.1 0-55.9 18.4-56.8 43.6h27.3c2.3-12 13.4-19.9 28.6-19.9 18.5 0 28.9 8.6 28.9 24.5v10.8l-37.8 2.3c-35.1 2.1-54.1 16.5-54.1 41.5.1 25.2 19.7 42 47.8 42zm8.2-23.1c-16.1 0-26.4-7.8-26.4-19.6 0-12.3 9.9-19.4 28.8-20.5l33.6-2.1v11c0 18.2-15.5 31.2-36 31.2zm102.5 74.6c29.5 0 43.4-11.3 55.5-45.4L640 193h-30.8l-35.6 115.1h-.6L537.4 193h-31.6L557 334.9l-2.8 8.6c-4.6 14.6-12.1 20.3-25.5 20.3-2.4 0-7-.3-8.9-.5v23.4c1.8.4 9.3.7 11.6.7z"></path></svg>
                            <p class="font-semibold absolute inset-0 w-full whitespace-nowrap -translate-y-[110%] translate-x-full top-1 left-2 transition-all duration-700 opacity-0">Apple Pay</p>
                        </div>
                        <input type="radio" name="payment" value="apple" class="checked:text-indigo-500 checked:ring-0 checked:ring-current focus:ring-0 focus:ring-current">
                    </label>
                    <label class="inline-flex justify-between w-full items-center rounded-lg p-2 border border-transparent has-[:checked]:border-indigo-500 has-[:checked]:text-indigo-900 has-[:checked]:bg-indigo-50 has-[:checked]:font-bold hover:bg-slate-200 transition-all cursor-pointer has-[:checked]:transition-all has-[:checked]:duration-500 duration-500 relative [&amp;_p]:has-[:checked]:translate-y-0 [&amp;_p]:has-[:checked]:transition-transform [&amp;_p]:has-[:checked]:duration-500 [&amp;_p]:has-[:checked]:opacity-100 overflow-hidden">
                        <div class="inline-flex items-center justify-center gap-2 relative">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="32" height="32" fill="currentColor"><path d="M186.3 258.2c0 12.2-9.7 21.5-22 21.5-9.2 0-16-5.2-16-15 0-12.2 9.5-22 21.7-22 9.3 0 16.3 5.7 16.3 15.5zM80.5 209.7h-4.7c-1.5 0-3 1-3.2 2.7l-4.3 26.7 8.2-.3c11 0 19.5-1.5 21.5-14.2 2.3-13.4-6.2-14.9-17.5-14.9zm284 0H360c-1.8 0-3 1-3.2 2.7l-4.2 26.7 8-.3c13 0 22-3 22-18-.1-10.6-9.6-11.1-18.1-11.1zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM128.3 215.4c0-21-16.2-28-34.7-28h-40c-2.5 0-5 2-5.2 4.7L32 294.2c-.3 2 1.2 4 3.2 4h19c2.7 0 5.2-2.9 5.5-5.7l4.5-26.6c1-7.2 13.2-4.7 18-4.7 28.6 0 46.1-17 46.1-45.8zm84.2 8.8h-19c-3.8 0-4 5.5-4.2 8.2-5.8-8.5-14.2-10-23.7-10-24.5 0-43.2 21.5-43.2 45.2 0 19.5 12.2 32.2 31.7 32.2 9 0 20.2-4.9 26.5-11.9-.5 1.5-1 4.7-1 6.2 0 2.3 1 4 3.2 4H200c2.7 0 5-2.9 5.5-5.7l10.2-64.3c.3-1.9-1.2-3.9-3.2-3.9zm40.5 97.9l63.7-92.6c.5-.5.5-1 .5-1.7 0-1.7-1.5-3.5-3.2-3.5h-19.2c-1.7 0-3.5 1-4.5 2.5l-26.5 39-11-37.5c-.8-2.2-3-4-5.5-4h-18.7c-1.7 0-3.2 1.8-3.2 3.5 0 1.2 19.5 56.8 21.2 62.1-2.7 3.8-20.5 28.6-20.5 31.6 0 1.8 1.5 3.2 3.2 3.2h19.2c1.8-.1 3.5-1.1 4.5-2.6zm159.3-106.7c0-21-16.2-28-34.7-28h-39.7c-2.7 0-5.2 2-5.5 4.7l-16.2 102c-.2 2 1.3 4 3.2 4h20.5c2 0 3.5-1.5 4-3.2l4.5-29c1-7.2 13.2-4.7 18-4.7 28.4 0 45.9-17 45.9-45.8zm84.2 8.8h-19c-3.8 0-4 5.5-4.3 8.2-5.5-8.5-14-10-23.7-10-24.5 0-43.2 21.5-43.2 45.2 0 19.5 12.2 32.2 31.7 32.2 9.3 0 20.5-4.9 26.5-11.9-.3 1.5-1 4.7-1 6.2 0 2.3 1 4 3.2 4H484c2.7 0 5-2.9 5.5-5.7l10.2-64.3c.3-1.9-1.2-3.9-3.2-3.9zm47.5-33.3c0-2-1.5-3.5-3.2-3.5h-18.5c-1.5 0-3 1.2-3.2 2.7l-16.2 104-.3.5c0 1.8 1.5 3.5 3.5 3.5h16.5c2.5 0 5-2.9 5.2-5.7L544 191.2v-.3zm-90 51.8c-12.2 0-21.7 9.7-21.7 22 0 9.7 7 15 16.2 15 12 0 21.7-9.2 21.7-21.5.1-9.8-6.9-15.5-16.2-15.5z"></path></svg>
                            <p class="font-semibold absolute inset-0 w-full whitespace-nowrap -translate-y-[110%] translate-x-full top-1 left-2 transition-all duration-700 opacity-0">Paypal</p>
                        </div>
                        <input type="radio" name="payment" value="paypal" class="checked:text-indigo-500 checked:ring-0 checked:ring-current focus:ring-0 focus:ring-current">
                    </label>
                    <label class="inline-flex justify-between w-full items-center rounded-lg p-2 border border-transparent has-[:checked]:border-indigo-500 has-[:checked]:text-indigo-900 has-[:checked]:bg-indigo-50 has-[:checked]:font-bold hover:bg-slate-200 transition-all cursor-pointer has-[:checked]:transition-all has-[:checked]:duration-500 duration-500 relative [&amp;_p]:has-[:checked]:translate-y-0 [&amp;_p]:has-[:checked]:transition-transform [&amp;_p]:has-[:checked]:duration-500 [&amp;_p]:has-[:checked]:opacity-100 overflow-hidden">
                        <div class="inline-flex items-center justify-center gap-2 relative">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32" fill="currentColor"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M22.222 15.768l-.225-1.125h-2.514l-.4 1.117-2.015.004a4199.19 4199.19 0 0 1 2.884-6.918c.164-.391.455-.59.884-.588.328.003.863.003 1.606.001L24 15.765l-1.778.003zm-2.173-2.666h1.62l-.605-2.82-1.015 2.82zM7.06 8.257l2.026.002-3.132 7.51-2.051-.002a950.849 950.849 0 0 1-1.528-5.956c-.1-.396-.298-.673-.679-.804C1.357 8.89.792 8.71 0 8.465V8.26h3.237c.56 0 .887.271.992.827.106.557.372 1.975.8 4.254L7.06 8.257zm4.81.002l-1.602 7.508-1.928-.002L9.94 8.257l1.93.002zm3.91-.139c.577 0 1.304.18 1.722.345l-.338 1.557c-.378-.152-1-.357-1.523-.35-.76.013-1.23.332-1.23.638 0 .498.816.749 1.656 1.293.959.62 1.085 1.177 1.073 1.782-.013 1.256-1.073 2.495-3.309 2.495-1.02-.015-1.388-.101-2.22-.396l.352-1.625c.847.355 1.206.468 1.93.468.663 0 1.232-.268 1.237-.735.004-.332-.2-.497-.944-.907-.744-.411-1.788-.98-1.774-2.122.017-1.462 1.402-2.443 3.369-2.443z"></path></g></svg>
                            <p class="font-semibold absolute inset-0 w-full whitespace-nowrap translate-y-[110%] translate-x-full top-1 left-2 transition-all duration-700 opacity-0">Credit Card</p>
                        </div>
                        <input type="radio" name="payment" value="visa" class="checked:text-indigo-500 checked:ring-0 checked:ring-current focus:ring-0 focus:ring-current">
                    </label>
                </div>
                <div class="mt-8 flex justify-center">
                    <button class="Btn" onclick="confirmPayment()">Pay<svg class="svgIcon" viewBox="0 0 576 512"><path d="M512 80c8.8 0 16 7.2 16 16v32H48V96c0-8.8 7.2-16 16-16H512zm16 144V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224H528zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24H360c13.3 0 24-10.7 24-24s-10.7-24-24-24H248z"></path></svg></button>
                </div>
            </div>
        </div>

        <!-- Booking Confirmation Page -->
        <div id="confirmation-page" class="page app-page">
            <div class="w-full max-w-lg text-center">
                <div class="styled-card bg-white/80 backdrop-blur-sm p-8 no-hover">
                    <input type="checkbox">
                    <svg width="150" height="150" viewBox="0 0 400 400" class="mx-auto">
                      <circle fill="none" stroke="#68E534" stroke-width="20" cx="200" cy="200" r="190" class="circle" transform="rotate(-90 200 200)"/>
                      <polyline fill="none" stroke="#68E534" stroke-width="24" points="88,214 173,284 304,138" stroke-linecap="round" stroke-linejoin="round" class="tick"/>
                    </svg>
                    <h1 class="success-title text-3xl font-bold text-slate-800 mt-6">Payment Success</h1>
                    <p class="success-title text-slate-600 mt-2">Your payment for <span id="confirmed-service-name" class="font-semibold"></span> is confirmed.</p>
                    <p class="success-title mt-4 text-sm text-slate-500">You will be redirected to the dashboard shortly.</p>
                </div>
            </div>
        </div>


        <!-- Verification Confirmation Modal -->
        <div id="verification-confirm-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 hidden">
             <div class="card">
              <div class="header">
                <div class="image">
                  <svg aria-hidden="true" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" fill="none">
                    <path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" stroke-linejoin="round" stroke-linecap="round"></path>
                  </svg>
                </div>
                <div class="content">
                  <span class="title">Verification Required</span>
                  <p class="message">
                    Is your travel pass generated and up-to-date with all members of your travel party?
                  </p>
                </div>
                <div class="actions">
                  <button class="desactivate" type="button" onclick="proceedToVerification()">No, I Need to Verify</button>
                  <button class="continue" type="button" onclick="forceProceedToBooking()">Yes, Continue</button>
                </div>
              </div>
            </div>
        </div>
        
        <!-- Nationality Selection Modal -->
        <div id="nationality-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 hidden">
            <div class="card">
                <div class="header">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M2.04 4.326c.325 1.329 2.532 2.54 3.717 3.19.48.263.793.434.743.484q-.121.12-.242.234c-.416.396-.787.749-.758 1.266.035.634.618.824 1.214 1.017.577.188 1.168.38 1.286.983.082.417-.075.988-.22 1.52-.215.782-.406 1.48.22 1.48 1.5-.5 3.798-3.186 4-5 .138-1.243-2-2-3.5-2.5-.478-.16-.755.081-.99.284-.172.15-.322.279-.51.216-.445-.148-2.5-2-1.5-2.5.78-.39.952-.171 1.227.182.078.099.163.208.273.318.609.304.662-.132.723-.633.039-.322.081-.671.277-.867.434-.434 1.265-.791 2.028-1.12.712-.306 1.365-.587 1.579-.88A7 7 0 1 1 2.04 4.327Z"/>
                        </svg>
                    </span>
                    <p class="alert">Confirm Your Nationality</p>
                </div>
                <p class="message">
                    Please select your nationality to proceed with the travel pass registration.
                </p>
                <div class="actions">
                    <button onclick="showRegistrationPage('indian')" class="read">
                        Indian Citizen
                    </button>
                    <button onclick="showRegistrationPage('foreign')" class="mark-as-read">
                        Foreign National
                    </button>
                </div>
            </div>
        </div>

        <!-- OTP Verification Modal -->
        <div id="otp-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 hidden">
            <form class="otp-Form" onsubmit="verifyOtp(event)">
                <span class="mainHeading">Enter OTP</span>
                <p class="otpSubheading">We have sent a verification code to your Aadhar registered mobile number</p>
                <div class="inputContainer">
                    <input required="required" maxlength="1" type="text" class="otp-input" id="otp-input1">
                    <input required="required" maxlength="1" type="text" class="otp-input" id="otp-input2">
                    <input required="required" maxlength="1" type="text" class="otp-input" id="otp-input3">
                    <input required="required" maxlength="1" type="text" class="otp-input" id="otp-input4">
                </div>
                <button class="verifyButton" type="submit">Verify</button>
                <button type="button" class="exitBtn" onclick="hideOtpModal()">×</button>
                <p class="resendNote">Didn't receive the code? <button type="button" class="resendBtn">Resend Code</button></p>
            </form>
        </div>

        <!-- Feedback Modal -->
        <div id="feedback-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 hidden">
            <div class="relative max-w-sm w-full">
                <div id="feedback-form-container">
                    <form onsubmit="submitFeedback(event)" class="bg-white border border-slate-200 grid grid-cols-6 gap-2 rounded-xl p-3 text-sm">
                        <h1 class="text-center text-slate-700 text-xl font-bold col-span-6 mb-2">Share Your Experience</h1>
                        <textarea id="feedback-textarea" required placeholder="Your feedback..." class="bg-slate-100 text-slate-600 h-28 placeholder:text-slate-600 placeholder:opacity-50 border border-slate-200 col-span-6 resize-none outline-none rounded-lg p-2 duration-300 focus:border-sky-500"></textarea>
                        
                        <!-- Smiley Buttons (for show, not functional for now) -->
                        <button type="button" class="fill-slate-600 col-span-1 flex justify-center items-center rounded-lg p-2 duration-300 bg-slate-100 hover:border-slate-600 focus:fill-yellow-400 focus:bg-yellow-100 border border-slate-200">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 512 512"><path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg>
                        </button>
                        <button type="button" class="fill-slate-600 col-span-1 flex justify-center items-center rounded-lg p-2 duration-300 bg-slate-100 hover:border-slate-600 focus:fill-red-400 focus:bg-red-100 border border-slate-200">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 512 512"><path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM174.6 384.1c-4.5 12.5-18.2 18.9-30.7 14.4s-18.9-18.2-14.4-30.7C146.9 319.4 198.9 288 256 288s109.1 31.4 126.6 79.9c4.5 12.5-2 26.2-14.4 30.7s-26.2-2-30.7-14.4C328.2 358.5 297.2 336 256 336s-72.2 22.5-81.4 48.1zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg>
                        </button>
                        <span class="col-span-2"></span>

                        <!-- Submit Button -->
                        <button type="submit" class="bg-slate-100 stroke-slate-600 border border-slate-200 col-span-2 flex justify-center rounded-lg p-2 duration-300 hover:border-green-600 hover:bg-green-100 hover:stroke-green-600">
                            <svg fill="none" viewBox="0 0 24 24" height="30px" width="30px" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="1.5" d="M7.39999 6.32003L15.89 3.49003C19.7 2.22003 21.77 4.30003 20.51 8.11003L17.68 16.6C15.78 22.31 12.66 22.31 10.76 16.6L9.91999 14.08L7.39999 13.24C1.68999 11.34 1.68999 8.23003 7.39999 6.32003Z"></path>
                                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="1.5" d="M10.11 13.6501L13.69 10.0601"></path>
                            </svg>
                        </button>
                    </form>
                </div>
                <div id="feedback-thanks-container" class="hidden">
                     <div class="bg-white rounded-xl shadow-lg p-8 text-center relative">
                        <div class="absolute top-0 left-0 w-full h-1.5 bg-green-500 rounded-t-xl"></div>
                        <div class="mb-4 mt-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="text-green-500 mx-auto" width="75" height="75"
                                fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                <path
                                    d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" />
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-800">Thank You!</h1>
                            <p class="text-slate-600 mt-2">Thank you for your contribution towards improving Kerala's travel experience.</p>
                            <button onclick="hideFeedbackModal()" class="mt-6 px-6 py-2 font-semibold text-green-600 border border-green-500 rounded-lg hover:bg-green-500 hover:text-white transition">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Assistant Modal -->
        <div id="ai-assistant-modal" class="fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 hidden">
             <div class="styled-card bg-white/95 backdrop-blur-lg w-full max-w-lg h-[80vh] max-h-[700px] flex flex-col p-4 rounded-2xl no-hover">
                <div class="flex-shrink-0 flex justify-between items-center pb-3 border-b border-slate-200">
                    <h2 class="text-xl font-bold text-sky-600" data-translate-key="ai_modal_title">AI Travel Assistant</h2>
                    <button onclick="hideAiAssistantModal()" class="text-3xl font-light leading-none text-slate-500 hover:text-slate-800">&times;</button>
                </div>
                <div id="global-ai-chat-messages" class="flex-grow overflow-y-auto custom-scrollbar p-2 flex flex-col my-2 space-y-2">
                    <!-- Global AI chat messages will be appended here -->
                </div>
                <div class="flex-shrink-0 flex space-x-2 pt-2 border-t border-slate-200">
                    <input id="global-ai-chat-input" type="text" placeholder="Ask anything about Kerala..." class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition" data-translate-placeholder-key="ai_modal_placeholder">
                    <button onclick="sendGlobalAiChatMessage()" class="px-5 py-2 font-semibold text-white bg-sky-600 rounded-lg whitespace-nowrap hover:bg-sky-700 transition" data-translate-key="ai_modal_send">Send</button>
                </div>
             </div>
        </div>

    </div>
    
    <!-- New Mobile Nav Panel -->
    <div id="mobile-nav-overlay"></div>
    <nav id="mobile-nav">
        <ul>
            <li onclick="handleNewMenuClick('home-page')" data-translate-key="nav_home">Home</li>
            <li onclick="handleNewMenuClick('about-page')" data-translate-key="nav_about">About</li>
            <li onclick="handleNewMenuClick('kerala-page')" data-translate-key="nav_kerala">Kerala</li>
            <li onclick="handleNewLogoutClick()" data-translate-key="nav_logout_mobile">Logout</li>
        </ul>
    </nav>


    <!-- Floating AI/FAQ Buttons -->
    <div id="floating-buttons-container" class="fixed bottom-6 right-6 z-30 hidden flex flex-row-reverse items-center gap-4">
        <!-- FAQ Button -->
        <button class="faq-button" onclick="switchPage('faq-page')">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
            <path d="M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"></path>
          </svg>
          <span class="tooltip" data-translate-key="tooltip_faq">FAQ</span>
        </button>
        <!-- AI Assistant Button -->
        <button class="ai-assist-btn" onclick="showAiAssistantModal()">
          <span class="svgContainer">
            <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
              <path d="M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1 .9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2 .6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6 .4 19.5 .6 29.5 .6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8 .9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"></path>
            </svg>
          </span>
          <span class="BG" data-translate-key="tooltip_ai">AI Help?</span>
        </button>
    </div>

    <!-- SVG Goo Filter -->
    <svg class="absolute w-0 h-0" xmlns="http://www.w3.org/2000/svg" version="1.1">
        <defs>
            <filter id="goo">
                <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10"></feGaussianBlur>
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 21 -7" result="goo"></feColorMatrix>
                <feBlend in2="goo" in="SourceGraphic" result="mix"></feBlend>
            </filter>
        </defs>
    </svg>

    <script>
    const appData = {
        loginCredentials: { username: "password" },
        currentUser: null, companions: [], foreignCompanions: [], passGenerated: false,
        indianDetails: null, foreignDetails: null,
        isVerifiedForSession: false,
        verificationSourcePage: 'home-page', bookingService: null,
        nationalitySelected: false
    };
    let currentPage = 'login-page';
    let isMobileMenuOpen = false;
    const geminiApiKey = "AIzaSyBeXwBjMXSpEQvly0hjA2nznBXAtD6LCv0"; // Intentionally left blank. Do not add a key here.

    const itineraryLoaderHTML = `
        <div class="itinerary-loader-container">
            <svg aria-label="loader being flipped clockwise and circled by three white curves fading in and out" role="img" height="56px" width="56px" viewBox="0 0 56 56" class="loader">
                <clipPath id="sand-mound-top"><path d="M 14.613 13.087 C 15.814 12.059 19.3 8.039 20.3 6.539 C 21.5 4.789 21.5 2.039 21.5 2.039 L 3 2.039 C 3 2.039 3 4.789 4.2 6.539 C 5.2 8.039 8.686 12.059 9.887 13.087 C 11 14.039 12.25 14.039 12.25 14.039 C 12.25 14.039 13.5 14.039 14.613 13.087 Z" class="loader__sand-mound-top"></path></clipPath>
                <clipPath id="sand-mound-bottom"><path d="M 14.613 20.452 C 15.814 21.48 19.3 25.5 20.3 27 C 21.5 28.75 21.5 31.5 21.5 31.5 L 3 31.5 C 3 31.5 3 28.75 4.2 27 C 5.2 25.5 8.686 21.48 9.887 20.452 C 11 19.5 12.25 19.5 12.25 19.5 C 12.25 19.5 13.5 19.5 14.613 20.452 Z" class="loader__sand-mound-bottom"></path></clipPath>
                <g transform="translate(2,2)">
                    <g transform="rotate(-90,26,26)" stroke-linecap="round" stroke-dashoffset="153.94" stroke-dasharray="153.94 153.94" stroke="#1e293b" fill="none">
                        <circle transform="rotate(0,26,26)" r="24.5" cy="26" cx="26" stroke-width="2.5" class="loader__motion-thick"></circle>
                        <circle transform="rotate(90,26,26)" r="24.5" cy="26" cx="26" stroke-width="1.75" class="loader__motion-medium"></circle>
                        <circle transform="rotate(180,26,26)" r="24.5" cy="26" cx="26" stroke-width="1" class="loader__motion-thin"></circle>
                    </g>
                    <g transform="translate(13.75,9.25)" class="loader__model">
                        <path d="M 1.5 2 L 23 2 C 23 2 22.5 8.5 19 12 C 16 15.5 13.5 13.5 13.5 16.75 C 13.5 20 16 18 19 21.5 C 22.5 25 23 31.5 23 31.5 L 1.5 31.5 C 1.5 31.5 2 25 5.5 21.5 C 8.5 18 11 20 11 16.75 C 11 13.5 8.5 15.5 5.5 12 C 2 8.5 1.5 2 1.5 2 Z" fill="hsl(var(--hue),90%,85%)"></path>
                        <g stroke-linecap="round" stroke="hsl(35,90%,90%)">
                            <line y2="20.75" x2="12" y1="15.75" x1="12" stroke-dasharray="0.25 33.75" stroke-width="1" class="loader__sand-grain-left"></line>
                            <line y2="21.75" x2="12.5" y1="16.75" x1="12.5" stroke-dasharray="0.25 33.75" stroke-width="1" class="loader__sand-grain-right"></line>
                            <line y2="31.5" x2="12.25" y1="18" x1="12.25" stroke-dasharray="0.5 107.5" stroke-width="1" class="loader__sand-drop"></line>
                            <line y2="31.5" x2="12.25" y1="14.75" x1="12.25" stroke-dasharray="54 54" stroke-width="1.5" class="loader__sand-fill"></line>
                            <line y2="31.5" x2="12" y1="16" x1="12" stroke-dasharray="1 107" stroke-width="1" stroke="hsl(35,90%,83%)" class="loader__sand-line-left"></line>
                            <line y2="31.5" x2="12.5" y1="16" x1="12.5" stroke-dasharray="12 96" stroke-width="1" stroke="hsl(35,90%,83%)" class="loader__sand-line-right"></line>
                            <g stroke-width="0" fill="hsl(35,90%,90%)">
                                <path d="M 12.25 15 L 15.392 13.486 C 21.737 11.168 22.5 2 22.5 2 L 2 2.013 C 2 2.013 2.753 11.046 9.009 13.438 L 12.25 15 Z" clip-path="url(#sand-mound-top)"></path>
                                <path d="M 12.25 18.5 L 15.392 20.014 C 21.737 22.332 22.5 31.5 22.5 31.5 L 2 31.487 C 2 31.487 2.753 22.454 9.009 20.062 Z" clip-path="url(#sand-mound-bottom)"></path>
                            </g>
                        </g>
                        <g stroke-width="2" stroke-linecap="round" opacity="0.7" fill="none">
                            <path d="M 19.437 3.421 C 19.437 3.421 19.671 6.454 17.914 8.846 C 16.157 11.238 14.5 11.5 14.5 11.5" stroke="hsl(0,0%,100%)" class="loader__glare-top"></path>
                            <path transform="rotate(180,12.25,16.75)" d="M 19.437 3.421 C 19.437 3.421 19.671 6.454 17.914 8.846 C 16.157 11.238 14.5 11.5 14.5 11.5" stroke="hsla(0,0%,100%,0)" class="loader__glare-bottom"></path>
                        </g>
                        <rect height="2" width="24.5" fill="hsl(var(--hue),90%,50%)"></rect>
                        <rect height="1" width="19.5" y="0.5" x="2.5" ry="0.5" rx="0.5" fill="hsl(var(--hue),90%,57.5%)"></rect>
                        <rect height="2" width="24.5" y="31.5" fill="hsl(var(--hue),90%,50%)"></rect>
                        <rect height="1" width="19.5" y="32" x="2.5" ry="0.5" rx="0.5" fill="hsl(var(--hue),90%,57.5%)"></rect>
                    </g>
                </g>
            </svg>
            <p class="text-center text-slate-500 animate-pulse">Generating your personalized itinerary...</p>
        </div>
    `;

    const translations = {
        'en': {
            'loader_loading': 'Loading Application...',
            'dashboard_title': 'SURYA Dashboard',
            'nav_home': 'Home',
            'nav_about': 'About',
            'nav_kerala': 'Kerala',
            'nav_states': 'States',
            'nav_logout': 'Logout',
            'nav_logout_mobile': 'Logout',
            'home_trip_status_title': 'Trip Status',
            'home_trip_status_text': 'Current Status:',
            'status_outside_kerala': 'Outside "State"',
            'status_inside_kerala': 'Inside "State"',
            'home_status_outside': 'Outside',
            'home_status_inside': 'Inside',
            'feedback_prompt': "You've been in the 'state' for X days. Please share your experience to help us improve!",
            'feedback_button': 'Give Feedback',
            'home_card_tourism_title': 'Tourism',
            'home_card_tourism_sub1': 'Plan Your Trip',
            'home_card_tourism_sub2': 'Explore Kerala',
            'home_card_medical_title': 'Medical',
            'home_card_medical_sub1': 'Health & Wellness',
            'home_card_medical_sub2': 'Travel with Care',
            'home_card_pass_title': 'Travel Pass',
            'home_card_pass_sub1': 'Get Your Permit',
            'home_card_pass_sub2': 'Register Now',
            'tooltip_faq': 'FAQ',
            'tooltip_ai': 'AI Help?',
            'login_button': 'LOGIN',
            'login_error': 'Invalid credentials.',
            'consent_title': 'Your Consent is Required',
            'consent_p1': "To help SURYA with transportation planning, this app collects trip-related information such as your origin, destination, time, and mode of travel. This data is used solely for research and planning purposes to improve infrastructure in Kerala.",
            'consent_checkbox_label': "I consent to the collection of my trip data for SURYA's transportation planning purposes.",
            'consent_decline': 'Decline',
            'consent_agree': 'Agree & Continue',
            'about_title': 'About Our Project',
            'about_sih_title': 'Prototype for HackAura 2025',
            'about_sih_p': 'This application is a functional prototype developed by our team for the Hack Aura Hackathon. We aim to solve real-world transportation challenges with innovative technology.',
            'about_team_title': 'Meet The Team',
            'about_role_lead': 'Team Lead',
            'about_role_frontend': 'Frontend Developer',
            'about_role_backend': 'Backend Developer',
            'about_role_db': 'Database Specialist',
            'about_role_ai': 'AI/ML Engineer',
            'faq_title': 'FAQs – SURYA Travel Companion',
            'faq_q1_q': 'Q1. What is SURYA Travel Companion?',
            'faq_q1_a': 'SURYA Travel Companion is a digital platform to simplify your travel experience in Kerala. It helps you get a verified travel pass, plan trips, and book services like hotels, medical facilities, and transportation.',
            'faq_q2_q': 'Q2. Why do I need a travel pass?',
            'faq_q2_a': 'The travel pass verifies your entry and exit from the state. It ensures smooth travel, better infrastructure planning, and safety for visitors and residents.',
            'faq_q3_q': 'Q3. What information is collected when I use this app?',
            'faq_q3_a': 'We only collect basic trip-related details like your origin, destination, and travel dates. No personal or sensitive information is revealed in your QR code.',
            'faq_q4_q': 'Q4. How does the verification QR code work?',
            'faq_q4_a': 'When you register, you receive a unique QR code. Hotels, transport, or service providers can scan it to check if your travel pass is valid—without accessing your personal data.',
            'faq_q5_q': 'Q5. Is my location tracked constantly?',
            'faq_q5_a': 'No. SURYA does not track your real-time movements. The pass only verifies whether you have valid authorization to enter or stay in Kerala.',
            'faq_q6_q': "Q6. What happens if I don’t have a travel pass?",
            'faq_q6_a': 'Without a travel pass, you may face restrictions in booking hotels, using public transport, or accessing certain services inside Kerala.',
            'faq_q7_q': 'Q7. Do foreigners need a travel pass?',
            'faq_q7_a': 'Foreign tourists with valid visas are exempt, but they can optionally register to enjoy integrated booking and planning services.',
            'faq_q8_q': 'Q8. What if I lose my phone or QR code?',
            'faq_q8_a': 'You can log in again with your registered Aadhaar-linked phone number to regenerate your QR code.',
            'faq_q9_q': 'Q9. How does this benefit me as a tourist?',
            'faq_q9_a': 'Besides smooth entry verification, you can plan itineraries, discover destinations, and directly book hotels, hospitals, and transport through one platform.',
            'faq_q10_q': 'Q10. How does this help Kerala?',
            'faq_q10_a': "Your participation helps SURYA gather accurate travel data, improving road safety, transport planning, and tourism services across the state.",
            'ai_modal_title': 'AI Travel Assistant',
            'ai_modal_placeholder': 'Ask anything about your travel...',
            'ai_modal_send': 'Send',
        },
        'hi': {
            'loader_loading': 'एप्लिकेशन लोड हो रहा है...',
            'dashboard_title': 'SURYA डैशबोर्ड',
            'nav_home': 'होम',
            'nav_about': 'हमारे बारे में',
            'nav_kerala': 'केरल',
            'nav_states': 'राज्य',
            'nav_logout': 'लॉग आउट',
            'nav_logout_mobile': 'लॉग आउट',
            'home_trip_status_title': 'यात्रा की स्थिति',
            'home_trip_status_text': 'वर्तमान स्थिति:',
            'status_outside_kerala': 'केरल के बाहर',
            'status_inside_kerala': 'केरल के अंदर',
            'home_status_outside': 'बाहर',
            'home_status_inside': 'अंदर',
            'feedback_prompt': "आप X दिनों से केरल में हैं। सुधार में हमारी मदद करने के लिए कृपया अपना अनुभव साझा करें!",
            'feedback_button': 'प्रतिक्रिया दें',
            'home_card_tourism_title': 'पर्यटन',
            'home_card_tourism_sub1': 'अपनी यात्रा की योजना बनाएं',
            'home_card_tourism_sub2': 'केरल का अन्वेषण करें',
            'home_card_medical_title': 'मेडिकल',
            'home_card_medical_sub1': 'स्वास्थ्य और कल्याण',
            'home_card_medical_sub2': 'देखभाल के साथ यात्रा करें',
            'home_card_pass_title': 'यात्रा पास',
            'home_card_pass_sub1': 'अपना परमिट प्राप्त करें',
            'home_card_pass_sub2': 'अभी पंजीकरण करें',
            'tooltip_faq': 'अक्सर पूछे जाने वाले प्रश्न',
            'tooltip_ai': 'AI सहायता?',
            'login_button': 'लॉग इन करें',
            'login_error': 'अमान्य क्रेडेंशियल।',
            'consent_title': 'आपकी सहमति आवश्यक है',
            'consent_p1': "SURYA को परिवहन योजना में मदद करने के लिए, यह ऐप आपकी उत्पत्ति, गंतव्य, समय और यात्रा के तरीके जैसी यात्रा-संबंधी जानकारी एकत्र करता है। इस डेटा का उपयोग केवल केरल में बुनियादी ढांचे में सुधार के लिए अनुसंधान और योजना उद्देश्यों के लिए किया जाता है।",
            'consent_checkbox_label': "मैं SURYA के परिवहन योजना उद्देश्यों के लिए अपने यात्रा डेटा के संग्रह के लिए सहमति देता हूं।",
            'consent_decline': 'अस्वीकार',
            'consent_agree': 'सहमत हूँ और जारी रखें',
            'about_title': 'हमारी परियोजना के बारे में',
            'about_sih_title': 'स्मार्ट इंडिया हैकथॉन 2025 के लिए प्रोटोटाइप',
            'about_sih_p': 'यह एप्लिकेशन आगामी स्मार्ट इंडिया हैकथॉन के लिए हमारी टीम द्वारा विकसित एक कार्यात्मक प्रोटोटाइप है। हमारा लक्ष्य नवीन प्रौद्योगिकी के साथ वास्तविक दुनिया की परिवहन चुनौतियों को हल करना है।',
            'about_team_title': 'हमारी टीम से मिलें',
            'about_role_lead': 'टीम लीड',
            'about_role_frontend': 'फ्रंटएंड डेवलपर',
            'about_role_backend': 'बैकएंड डेवलपर',
            'about_role_uiux': 'UI/UX डिजाइनर',
            'about_role_db': 'डेटाबेस विशेषज्ञ',
            'about_role_ai': 'AI/ML इंजीनियर',
            'faq_title': 'अक्सर पूछे जाने वाले प्रश्न – SURYA यात्रा साथी',
            'ai_modal_title': 'AI यात्रा सहायक',
            'ai_modal_placeholder': 'केरल के बारे में कुछ भी पूछें...',
            'ai_modal_send': 'भेजें',
        },
        'ml': {
            'loader_loading': 'അപ്ലിക്കേഷൻ ലോഡ് ചെയ്യുന്നു...',
            'dashboard_title': 'SURYA ഡാഷ്‌ബോർഡ്',
            'nav_home': 'ഹോം',
            'nav_about': 'ഞങ്ങളെക്കുറിച്ച്',
            'nav_kerala': 'കേരളം',
            'nav_states': 'സംസ്ഥാനങ്ങൾ',
            'nav_logout': 'ലോഗ് ഔട്ട്',
            'nav_logout_mobile': 'ലോഗ് ഔട്ട്',
            'home_trip_status_title': 'യാത്രയുടെ നില',
            'home_trip_status_text': 'നിലവിലെ അവസ്ഥ:',
            'status_outside_kerala': 'കേരളത്തിന് പുറത്ത്',
            'status_inside_kerala': 'കേരളത്തിനകത്ത്',
            'home_status_outside': 'പുറത്ത്',
            'home_status_inside': 'അകത്ത്',
            'feedback_prompt': "നിങ്ങൾ X ദിവസമായി കേരളത്തിലുണ്ട്. മെച്ചപ്പെടുത്താൻ ഞങ്ങളെ സഹായിക്കുന്നതിന് ദയവായി നിങ്ങളുടെ അനുഭവം പങ്കിടുക!",
            'feedback_button': 'അഭിപ്രായം നൽകുക',
            'home_card_tourism_title': 'ടൂറിസം',
            'home_card_tourism_sub1': 'നിങ്ങളുടെ യാത്ര ആസൂത്രണം ചെയ്യുക',
            'home_card_tourism_sub2': 'കേരളം പര്യവേക്ഷണം ചെയ്യുക',
            'home_card_medical_title': 'മെഡിക്കൽ',
            'home_card_medical_sub1': 'ആരോഗ്യവും സൗഖ്യവും',
            'home_card_medical_sub2': 'ശ്രദ്ധയോടെ യാത്ര ചെയ്യുക',
            'home_card_pass_title': 'ട്രാവൽ പാസ്',
            'home_card_pass_sub1': 'നിങ്ങളുടെ പെർമിറ്റ് നേടുക',
            'home_card_pass_sub2': 'ഇപ്പോൾ രജിസ്റ്റർ ചെയ്യുക',
            'tooltip_faq': 'പതിവുചോദ്യങ്ങൾ',
            'tooltip_ai': 'AI സഹായം?',
            'login_button': 'ലോഗിൻ ചെയ്യുക',
            'login_error': 'അസാധുവായ ക്രെഡൻഷ്യലുകൾ.',
            'consent_title': 'നിങ്ങളുടെ സമ്മതം ആവശ്യമാണ്',
            'consent_p1': "ഗതാഗത ആസൂത്രണത്തിൽ SURYA-നെ സഹായിക്കുന്നതിന്, ഈ ആപ്പ് നിങ്ങളുടെ ഉത്ഭവം, ലക്ഷ്യസ്ഥാനം, സമയം, യാത്രാ രീതി എന്നിവ പോലുള്ള യാത്രയുമായി ബന്ധപ്പെട്ട വിവരങ്ങൾ ശേഖരിക്കുന്നു. കേരളത്തിലെ അടിസ്ഥാന സൗകര്യങ്ങൾ മെച്ചപ്പെടുത്തുന്നതിനുള്ള ഗവേഷണത്തിനും ആസൂത്രണ ആവശ്യങ്ങൾക്കുമായി മാത്രമാണ് ഈ ഡാറ്റ ഉപയോഗിക്കുന്നത്.",
            'consent_checkbox_label': "SURYA-ന്റെ ഗതാഗത ആസൂത്രണ ആവശ്യങ്ങൾക്കായി എന്റെ യാത്രാ ഡാറ്റ ശേഖരിക്കുന്നതിന് ഞാൻ സമ്മതിക്കുന്നു.",
            'consent_decline': 'നിരസിക്കുക',
            'consent_agree': 'സമ്മതിച്ച് തുടരുക',
            'about_title': 'ഞങ്ങളുടെ പദ്ധതിയെക്കുറിച്ച്',
            'about_sih_title': 'സ്മാർട്ട് ഇന്ത്യ ഹാക്കത്തോൺ 2025-നുള്ള പ്രോട്ടോടൈപ്പ്',
            'about_sih_p': 'വരാനിരിക്കുന്ന സ്മാർട്ട് ഇന്ത്യ ഹാക്കത്തോണിനായി ഞങ്ങളുടെ ടീം വികസിപ്പിച്ചെടുത്ത ഒരു ഫംഗ്ഷണൽ പ്രോട്ടോടൈപ്പാണ് ഈ ആപ്ലിക്കേഷൻ. നൂതന സാങ്കതികവിദ്യ ഉപയോഗിച്ച് യഥാർത്ഥ ലോകത്തിലെ ഗതാഗത വെല്ലുവിളികൾ പരിഹരിക്കാൻ ഞങ്ങൾ ലക്ഷ്യമിടുന്നു.',
            'about_team_title': 'ടീമിനെ പരിചയപ്പെടാം',
            'about_role_lead': 'ടീം ലീഡ്',
            'about_role_frontend': 'ഫ്രണ്ട്എൻഡ് ഡെവലപ്പർ',
            'about_role_backend': 'ബാക്കെൻഡ് ഡെവലപ്പർ',
            'about_role_uiux': 'യുഐ/യുഎക്സ് ഡിസൈനർ',
            'about_role_db': 'ഡാറ്റാബേസ് സ്പെഷ്യലിസ്റ്റ്',
            'about_role_ai': 'എഐ/എംഎൽ എഞ്ചിനീയർ',
            'faq_title': 'പതിവുചോദ്യങ്ങൾ - SURYA ട്രാവൽ കമ്പാനിയൻ',
            'ai_modal_title': 'AI ട്രാവൽ അസിസ്റ്റന്റ്',
            'ai_modal_placeholder': 'കേരളത്തെക്കുറിച്ച് എന്തും ചോദിക്കാം...',
            'ai_modal_send': 'അയയ്ക്കുക',
        },
        'ta': {
            'loader_loading': 'விண்ணப்பம் ஏற்றப்படுகிறது...',
            'dashboard_title': 'SURYA டாஷ்போர்டு',
            'nav_home': 'முகப்பு',
            'nav_about': 'பற்றி',
            'nav_kerala': 'கேரளா',
            'nav_states': 'மாநிலங்கள்',
            'nav_logout': 'வெளியேறு',
            'nav_logout_mobile': 'வெளியேறு',
            'home_trip_status_title': 'பயண நிலை',
            'home_trip_status_text': 'தற்போதைய நிலை:',
            'status_outside_kerala': 'கேரளாவுக்கு வெளியே',
            'status_inside_kerala': 'கேரளாவுக்குள்',
            'home_status_outside': 'வெளியே',
            'home_status_inside': 'உள்ளே',
            'feedback_prompt': "நீங்கள் X நாட்களாக கேரளாவில் இருக்கிறீர்கள். மேம்படுத்த எங்களுக்கு உதவ உங்கள் அனுபவத்தைப் பகிரவும்!",
            'feedback_button': 'கருத்து தெரிவிக்கவும்',
            'home_card_tourism_title': 'சுற்றுலா',
            'home_card_tourism_sub1': 'உங்கள் பயணத்தைத் திட்டமிடுங்கள்',
            'home_card_tourism_sub2': 'கேரளாவை ஆராயுங்கள்',
            'home_card_medical_title': 'மருத்துவம்',
            'home_card_medical_sub1': 'உடல்நலம் மற்றும் ஆரோக்கியம்',
            'home_card_medical_sub2': 'கவனத்துடன் பயணம் செய்யுங்கள்',
            'home_card_pass_title': 'பயண அனுமதி',
            'home_card_pass_sub1': 'உங்கள் அனுமதியைப் பெறுங்கள்',
            'home_card_pass_sub2': 'இப்பொழுது பதிவு செய்',
            'tooltip_faq': 'அடிக்கடி கேட்கப்படும் கேள்விகள்',
            'tooltip_ai': 'AI உதவி?',
            'login_button': 'உள்நுழையவும்',
            'login_error': 'தவறான நற்சான்றிதழ்கள்.',
            'consent_title': 'உங்கள் ஒப்புதல் தேவை',
            'consent_p1': "SURYA க்கு போக்குவரத்து திட்டமிடலுக்கு உதவ, இந்த பயன்பாடு உங்கள் தோற்றம், சேருமிடம், நேரம் மற்றும் பயண முறை போன்ற பயணம் தொடர்பான தகவல்களை சேகரிக்கிறது. கேரளாவில் உள்கட்டமைப்பை மேம்படுத்துவதற்கான ஆராய்ச்சி மற்றும் திட்டமிடல் நோக்கங்களுக்காக மட்டுமே இந்தத் தரவு பயன்படுத்தப்படுகிறது.",
            'consent_checkbox_label': "SURYA இன் போக்குவரத்து திட்டமிடல் நோக்கங்களுக்காக எனது பயணத் தரவைச் சேகரிக்க நான் ஒப்புக்கொள்கிறேன்.",
            'consent_decline': 'நிராகரி',
            'consent_agree': 'ஏற்றுக்கொண்டு தொடரவும்',
            'about_title': 'எங்கள் திட்டம் பற்றி',
            'about_sih_title': 'ஸ்மார்ட் இந்தியா ஹேக்கத்தான் 2025க்கான முன்மாதிரி',
            'about_sih_p': 'இந்த பயன்பாடு வரவிருக்கும் ஸ்மார்ட் இந்தியா ஹேக்கத்தானுக்காக எங்கள் குழுவால் உருவாக்கப்பட்ட ஒரு செயல்பாட்டு முன்மாதிரி ஆகும். புதுமையான தொழில்நுட்பத்துடன் நிஜ உலக போக்குவரத்து சவால்களைத் தீர்ப்பதை நாங்கள் நோக்கமாகக் கொண்டுள்ளோம்.',
            'about_team_title': 'அணியைச் சந்திக்கவும்',
            'about_role_lead': 'குழு தலைவர்',
            'about_role_frontend': 'Frontend உருவாக்குநர்',
            'about_role_backend': 'Backend உருவாக்குநர்',
            'about_role_uiux': 'UI/UX வடிவமைப்பாளர்',
            'about_role_db': 'தரவுத்தள நிபுணர்',
            'about_role_ai': 'AI/ML பொறியாளர்',
            'faq_title': 'அடிக்கடி கேட்கப்படும் கேள்விகள் - SURYA பயணத் துணை',
            'ai_modal_title': 'AI பயண உதவியாளர்',
            'ai_modal_placeholder': 'கேரளா பற்றி எதுவும் கேளுங்கள்...',
            'ai_modal_send': 'அனுப்பு',
        },
        'bn': {
            'loader_loading': 'অ্যাপ্লিকেশন লোড হচ্ছে...',
            'dashboard_title': 'SURYA ড্যাশবোর্ড',
            'nav_home': 'হোম',
            'nav_about': 'আমাদের সম্পর্কে',
            'nav_kerala': 'কেরালা',
            'nav_states': 'রাজ্যগুলি',
            'nav_logout': 'লগ আউট',
            'nav_logout_mobile': 'লগ আউট',
            'home_trip_status_title': 'ভ্রমণের অবস্থা',
            'home_trip_status_text': 'বর্তমান অবস্থা:',
            'status_outside_kerala': 'কেরালার বাইরে',
            'status_inside_kerala': 'কেরালার ভিতরে',
            'home_status_outside': 'বাইরে',
            'home_status_inside': 'ভিতরে',
            'feedback_prompt': "আপনি X দিন ধরে কেরালায় আছেন। আমাদের উন্নতি করতে সাহায্য করার জন্য আপনার অভিজ্ঞতা শেয়ার করুন!",
            'feedback_button': 'মতামত দিন',
            'home_card_tourism_title': 'পর্যটন',
            'home_card_tourism_sub1': 'আপনার ট্রিপ পরিকল্পনা করুন',
            'home_card_tourism_sub2': 'কেরালা অন্বেষণ করুন',
            'home_card_medical_title': 'চিকিৎসা',
            'home_card_medical_sub1': 'স্বাস্থ্য ও সুস্থতা',
            'home_card_medical_sub2': 'যত্নের সাথে ভ্রমণ করুন',
            'home_card_pass_title': 'ভ্রমণ পাস',
            'home_card_pass_sub1': 'আপনার পারমিট পান',
            'home_card_pass_sub2': 'এখন নিবন্ধন করুন',
            'tooltip_faq': 'প্রশ্নাবলী',
            'tooltip_ai': 'AI সাহায্য?',
            'login_button': 'লগইন',
            'login_error': 'অবৈধ শংসাপত্র।',
            'consent_title': 'আপনার সম্মতি প্রয়োজন',
            'consent_p1': "SURYA-কে পরিবহন পরিকল্পনায় সহায়তা করার জন্য, এই অ্যাপটি আপনার উৎস, গন্তব্য, সময় এবং ভ্রমণের পদ্ধতির মতো ভ্রমণ-সম্পর্কিত তথ্য সংগ্রহ করে। এই ডেটা শুধুমাত্র কেরালায় পরিকাঠামো উন্নত করার জন্য গবেষণা এবং পরিকল্পনার উদ্দেশ্যে ব্যবহৃত হয়।",
            'consent_checkbox_label': "আমি SURYA-এর পরিবহন পরিকল্পনার উদ্দেশ্যে আমার ভ্রমণের ডেটা সংগ্রহের জন্য সম্মতি দিচ্ছি।",
            'consent_decline': 'প্রত্যাখ্যান',
            'consent_agree': 'সম্মত এবং চালিয়ে যান',
            'about_title': 'আমাদের প্রকল্প সম্পর্কে',
            'about_sih_title': 'স্মার্ট ইন্ডিয়া হ্যাকাথন ২০২৫ এর জন্য প্রোটোটাইপ',
            'about_sih_p': 'এই অ্যাপ্লিকেশনটি আসন্ন স্মার্ট ইন্ডিয়া হ্যাকাথনের জন্য আমাদের দল দ্বারা তৈরি একটি কার্যকরী প্রোটোটাইপ। আমরা উদ্ভাবনী প্রযুক্তির মাধ্যমে বাস্তব-বিশ্বের পরিবহন চ্যালেঞ্জগুলি সমাধান করার লক্ষ্য রাখি।',
            'about_team_title': 'আমাদের দলের সাথে দেখা করুন',
            'about_role_lead': 'দলনেতা',
            'about_role_frontend': 'ফ্রন্টএন্ড ডেভেলপার',
            'about_role_backend': 'ব্যাকএন্ড ডেভেলপার',
            'about_role_uiux': 'UI/UX ডিজাইনার',
            'about_role_db': 'ডাটাবেস বিশেষজ্ঞ',
            'about_role_ai': 'AI/ML ইঞ্জিনিয়ার',
            'faq_title': 'প্রশ্নাবলী – SURYA ট্র্যাভেল কম্প্যানিয়ন',
            'faq_q1_q': 'প্রশ্ন ১. SURYA ট্র্যাভেল কম্প্যানিয়ন কী?',
            'faq_q1_a': 'SURYA ট্র্যাভেল কম্প্যানিয়ন কেরালায় আপনার ভ্রমণের অভিজ্ঞতা সহজ করার জন্য একটি ডিজিটাল প্ল্যাটফর্ম। এটি আপনাকে একটি যাচাইকৃত ভ্রমণ পাস পেতে, ভ্রমণের পরিকল্পনা করতে এবং হোটেল, চিকিৎসা সুবিধা এবং পরিবহনের মতো পরিষেবা বুক করতে সহায়তা করে।',
            'faq_q2_q': 'প্রশ্ন ২. আমার কেন একটি ভ্রমণ পাস প্রয়োজন?',
            'faq_q2_a': 'ভ্রমণ পাস রাজ্য থেকে আপনার প্রবেশ এবং প্রস্থান যাচাই করে। এটি মসৃণ ভ্রমণ, উন্নত পরিকাঠামো পরিকল্পনা এবং দর্শক ও বাসিন্দাদের জন্য নিরাপত্তা নিশ্চিত করে।',
            'faq_q3_q': 'প্রশ্ন ৩. আমি যখন এই অ্যাপটি ব্যবহার করি তখন কোন তথ্য সংগ্রহ করা হয়?',
            'faq_q3_a': 'আমরা শুধুমাত্র আপনার উৎস, গন্তব্য এবং ভ্রমণের তারিখের মতো প্রাথমিক ভ্রমণ-সম্পর্কিত বিবরণ সংগ্রহ করি। আপনার QR কোডে কোনো ব্যক্তিগত বা সংবেদনশীল তথ্য প্রকাশ করা হয় না।',
            'faq_q4_q': 'প্রশ্ন ৪. যাচাইকরণ QR কোড কিভাবে কাজ করে?',
            'faq_q4_a': 'আপনি যখন নিবন্ধন করবেন, তখন আপনি একটি অনন্য QR কোড পাবেন। হোটেল, পরিবহন বা পরিষেবা প্রদানকারীরা আপনার ভ্রমণ পাস বৈধ কিনা তা পরীক্ষা করার জন্য এটি স্ক্যান করতে পারে—আপনার ব্যক্তিগত ডেটা অ্যাক্সেস না করেই।',
            'faq_q5_q': 'প্রশ্ন ৫. আমার অবস্থান কি ক্রমাগত ট্র্যাক করা হয়?',
            'faq_q5_a': 'না। SURYA আপনার রিয়েল-টাইম গতিবিধি ট্র্যাক করে না। পাসটি শুধুমাত্র যাচাই করে যে আপনার কেরালায় প্রবেশ বা থাকার জন্য বৈধ অনুমোদন আছে কিনা।',
            'faq_q6_q': 'প্রশ্ন ৬. আমার কাছে ভ্রমণ পাস না থাকলে কী হবে?',
            'faq_q6_a': 'ভ্রমণ পাস ছাড়া, আপনি হোটেল বুকিং, পাবলিক ট্রান্সপোর্ট ব্যবহার বা কেরালার ভিতরে নির্দিষ্ট পরিষেবা অ্যাক্সেস করার ক্ষেত্রে সীমাবদ্ধতার সম্মুখীন হতে পারেন।',
            'faq_q7_q': 'প্রশ্ন ৭. বিদেশীদের কি ভ্রমণ পাস প্রয়োজন?',
            'faq_q7_a': 'বৈধ ভিসা সহ বিদেশী পর্যটকদের ছাড় দেওয়া হয়েছে, তবে তারা সমন্বিত বুকিং এবং পরিকল্পনা পরিষেবা উপভোগ করার জন্য ঐচ্ছিকভাবে নিবন্ধন করতে পারে।',
            'faq_q8_q': 'প্রশ্ন ৮. আমি যদি আমার ফোন বা QR কোড হারিয়ে ফেলি?',
            'faq_q8_a': 'আপনি আপনার QR কোড পুনরায় তৈরি করতে আপনার নিবন্ধিত আধার-সংযুক্ত ফোন নম্বর দিয়ে আবার লগ ইন করতে পারেন।',
            'faq_q9_q': 'প্রশ্ন ৯. এটি একজন পর্যটক হিসাবে আমাকে কীভাবে উপকৃত করবে?',
            'faq_q9_a': 'মসৃণ প্রবেশ যাচাইকরণ ছাড়াও, আপনি ভ্রমণপথ পরিকল্পনা করতে, গন্তব্যগুলি আবিষ্কার করতে এবং সরাসরি একটি প্ল্যাটফর্মের মাধ্যমে হোটেল, হাসপাতাল এবং পরিবহন বুক করতে পারেন।',
            'faq_q10_q': 'প্রশ্ন ১০. এটি কেরালাকে কীভাবে সাহায্য করে?',
            'faq_q10_a': 'আপনার অংশগ্রহণ SURYA-কে সঠিক ভ্রমণ ডেটা সংগ্রহ করতে, রাস্তার নিরাপত্তা, পরিবহন পরিকল্পনা এবং রাজ্য জুড়ে পর্যটন পরিষেবা উন্নত করতে সহায়তা করে।',
            'ai_modal_title': 'AI ভ্রমণ সহকারী',
            'ai_modal_placeholder': 'কেরালা সম্পর্কে কিছু জিজ্ঞাসা করুন...',
            'ai_modal_send': 'পাঠান',
        }
    };

    const countryList = [
        "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan",
        "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina Faso", "Burundi",
        "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the", "Congo, Republic of the", "Costa Rica", "Cote d'Ivoire", "Croatia", "Cuba", "Cyprus", "Czech Republic",
        "Denmark", "Djibouti", "Dominica", "Dominican Republic",
        "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia",
        "Fiji", "Finland", "France",
        "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana",
        "Haiti", "Honduras", "Hungary",
        "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy",
        "Jamaica", "Japan", "Jordan",
        "Kazakhstan", "Kenya", "Kiribati", "Kosovo", "Kuwait", "Kyrgyzstan",
        "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg",
        "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar",
        "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "North Korea", "North Macedonia", "Norway",
        "Oman",
        "Pakistan", "Palau", "Palestine", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal",
        "Qatar",
        "Romania", "Russia", "Rwanda",
        "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Korea", "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria",
        "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Timor-Leste", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu",
        "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States of America", "Uruguay", "Uzbekistan",
        "Vanuatu", "Vatican City", "Venezuela", "Vietnam",
        "Yemen",
        "Zambia", "Zimbabwe"
    ];

    function populateCountries() {
        const select = document.getElementById('country-select');
        if (!select) return;
        countryList.forEach(country => {
            const option = document.createElement('option');
            option.value = country;
            option.textContent = country;
            select.appendChild(option);
        });
    }

    function setLanguage(lang) {
        document.querySelectorAll('[data-translate-key]').forEach(element => {
            const key = element.getAttribute('data-translate-key');
            if (translations[lang] && translations[lang][key]) {
                // Special handling for dynamic text like trip status
                if (key === 'home_trip_status_text') {
                    const statusSpan = element.querySelector('span');
                    if (statusSpan) {
                         const currentStatusKey = statusSpan.getAttribute('data-translate-key');
                         const translatedStatus = translations[lang][currentStatusKey] || statusSpan.textContent;
                         element.innerHTML = `${translations[lang][key]} <span class="font-bold ${statusSpan.className}" data-translate-key="${currentStatusKey}">${translatedStatus}</span>`;
                    }
                } else if (key === 'feedback_prompt') {
                    const daysSpan = document.getElementById('days-in-kerala');
                    const days = daysSpan ? daysSpan.textContent : 'X';
                    element.innerHTML = translations[lang][key].replace('X', `<span id="days-in-kerala" class="font-bold">${days}</span>`);
                } else {
                    element.textContent = translations[lang][key];
                }
            }
        });

        document.querySelectorAll('[data-translate-placeholder-key]').forEach(element => {
             const key = element.getAttribute('data-translate-placeholder-key');
             if (translations[lang] && translations[lang][key]) {
                element.placeholder = translations[lang][key];
            }
        });
        localStorage.setItem('preferredLanguage', lang);
    }

    function switchPage(pageId) {
        // Intercept navigation to registration page to ask for nationality
        if (pageId === 'registration-page' && !appData.nationalitySelected) {
            document.getElementById('nationality-modal').classList.remove('hidden');
            return;
        }

        document.body.classList.toggle('neumorphism-bg', pageId === 'login-page');
        document.body.classList.toggle('bg-light', pageId === 'payment-page');
        document.getElementById('wave-background').style.display = pageId === 'login-page' ? 'none' : 'block';
        
        const currentPageEl = document.getElementById(currentPage);
        if (currentPageEl) currentPageEl.classList.remove('active');
        
        const newPage = document.getElementById(pageId); 
        if(newPage) newPage.classList.add('active');
        
    const appPages = ['home-page', 'about-page', 'kerala-page', 'faq-page', 'tourism-page', 'medical-page', 'registration-page', 'recommendation-page', 'detailed-booking-page', 'payment-page', 'confirmation-page', 'west-bengal-page'];
        document.getElementById('app-header').classList.toggle('hidden', !appPages.includes(pageId) || pageId === 'payment-page' || pageId === 'confirmation-page');
        document.getElementById('floating-buttons-container').classList.toggle('hidden', !appPages.includes(pageId) || pageId === 'payment-page' || pageId === 'confirmation-page');
        currentPage = pageId;
    }

    function handleLogin(event) {
        event.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const errorEl = document.getElementById('login-error');
        if (appData.loginCredentials[username] === password) {
            appData.currentUser = username;
            document.getElementById('reg-user-name').textContent = username;
            switchPage('consent-page');
            errorEl.classList.add('hidden');
        } else {
            errorEl.classList.remove('hidden');
        }
    }
    
    document.getElementById('consent-checkbox').addEventListener('change', (e) => {
        document.getElementById('consent-agree-btn').disabled = !e.target.checked;
    });

    function handleConsent() {
        if(document.getElementById('consent-checkbox').checked) switchPage('home-page');
    }

    function handleLogout() {
        // Reset confirmation checkbox
        const confirmCheckbox = document.querySelector('#confirmation-page input[type="checkbox"]');
        if(confirmCheckbox) confirmCheckbox.checked = false;
        
        appData.currentUser = null; appData.companions = []; appData.foreignCompanions = []; appData.passGenerated = false;
        appData.indianDetails = null; appData.foreignDetails = null;
        appData.isVerifiedForSession = false;
        appData.nationalitySelected = false; // Reset nationality choice
        renderCompanions(); 
        renderForeignCompanions();
        document.getElementById('login-form').reset();
        switchPage('login-page');
    }
    
    function addCompanion() {
        const nameInput = document.getElementById('companion-name'), idInput = document.getElementById('companion-id');
        if (nameInput.value.trim() && idInput.value.trim()) {
            appData.companions.push({ name: nameInput.value.trim(), id: idInput.value.trim() });
            nameInput.value = ''; idInput.value = '';
            renderCompanions();
            appData.passGenerated = false;
            appData.isVerifiedForSession = false;
        } else {
            // Replace alert with a less intrusive notification if possible
        }
    }
    
    function removeCompanion(index) {
        appData.companions.splice(index, 1);
        renderCompanions();
        appData.passGenerated = false;
        appData.isVerifiedForSession = false;
    }
    
    function renderCompanions() {
        const list = document.getElementById('companions-list');
        if (!list) return;
        if (appData.companions.length === 0) {
            list.innerHTML = '<p class="text-sm text-slate-500">No companions added yet.</p>';
            return;
        }
        list.innerHTML = appData.companions.map((p, i) => `
            <div class="flex justify-between items-center p-3 bg-slate-100 rounded-lg">
                <div><p class="font-semibold text-slate-800">${p.name}</p><p class="text-sm text-slate-500">Aadhar ID: ${p.id}</p></div>
                <button onclick="removeCompanion(${i})" class="text-red-500 hover:text-red-700 font-bold">X</button>
            </div>`).join('');
    }
    
    function addForeignCompanion() {
        const nameInput = document.getElementById('foreign-companion-name');
        const idInput = document.getElementById('foreign-companion-id');
        if (nameInput.value.trim() && idInput.value.trim()) {
            appData.foreignCompanions.push({ name: nameInput.value.trim(), id: idInput.value.trim() });
            nameInput.value = ''; idInput.value = '';
            renderForeignCompanions();
            appData.passGenerated = false;
            updatePassDisplay();
        }
    }

    function removeForeignCompanion(index) {
        appData.foreignCompanions.splice(index, 1);
        renderForeignCompanions();
        appData.passGenerated = false;
        updatePassDisplay();
    }

    function renderForeignCompanions() {
        const list = document.getElementById('foreign-companions-list');
        if (!list) return;
        if (appData.foreignCompanions.length === 0) {
            list.innerHTML = '<p class="text-sm text-slate-500">No companions added yet.</p>';
            return;
        }
        list.innerHTML = appData.foreignCompanions.map((p, i) => `
            <div class="flex justify-between items-center p-3 bg-slate-100 rounded-lg">
                <div><p class="font-semibold text-slate-800">${p.name}</p><p class="text-sm text-slate-500">Passport: ${p.id}</p></div>
                <button onclick="removeForeignCompanion(${i})" class="text-red-500 hover:text-red-700 font-bold">X</button>
            </div>`).join('');
    }

    function generatePass() {
        const aadharId = document.getElementById('user-aadhar-id').value;
        appData.passGenerated = true;
        appData.indianDetails = { aadhar: aadharId };
        appData.foreignDetails = null; // Clear other pass type details

        if (appData.verificationSourcePage !== 'home-page') {
            const sourcePage = appData.verificationSourcePage;
            appData.verificationSourcePage = 'home-page';
            appData.isVerifiedForSession = true;
            switchPage(sourcePage);
        } else {
            updatePassDisplay();
            document.getElementById('existing-pass-container').scrollIntoView({ behavior: 'smooth' });
        }
    }

    function simulateTracking(status) {
        const statusEl = document.getElementById('tracking-status');
        const lang = document.getElementById('language-selector').value || 'en';
        
        const feedbackPrompt = document.getElementById('feedback-prompt');
        if (status === 'enter') {
            const statusInsideKey = 'status_inside_kerala';
            const statusInsideText = translations[lang][statusInsideKey];
            const statusText = translations[lang]['home_trip_status_text'];
            statusEl.innerHTML = `${statusText} <span class="font-bold text-green-500" data-translate-key="${statusInsideKey}">${statusInsideText}</span>`;
            document.getElementById('days-in-kerala').textContent = Math.floor(Math.random() * 10) + 1; // Random days for demo
            feedbackPrompt.classList.remove('hidden');
        } else {
            const statusOutsideKey = 'status_outside_kerala';
            const statusOutsideText = translations[lang][statusOutsideKey];
            const statusText = translations[lang]['home_trip_status_text'];
            statusEl.innerHTML = `${statusText} <span class="font-bold text-red-500" data-translate-key="${statusOutsideKey}">${statusOutsideText}</span>`;
            feedbackPrompt.classList.add('hidden');
        }
    }

    async function generateTripPlan() {
        const destination = document.getElementById('planner-destination').value;
        const startDate = document.getElementById('planner-start-date').value;
        const endDate = document.getElementById('planner-end-date').value;
        const budget = document.getElementById('planner-budget').value;

        if (!destination || !startDate || !endDate) {
            return; // Simple validation
        }

        const recommendationTitle = document.getElementById('recommendation-title');
        const recommendationDetails = document.getElementById('recommendation-details');

        recommendationTitle.textContent = `AI Itinerary for ${destination}`;
        recommendationDetails.innerHTML = itineraryLoaderHTML;
        switchPage('recommendation-page');

        let prompt = `Create a detailed day-by-day travel itinerary for a trip to ${destination}, from ${startDate} to ${endDate}. `;
        if (budget) {
            prompt += `The traveler has a budget of approximately INR ${budget}. Suggest activities, places to visit, and dining options that fit within this budget. Include a mix of popular attractions and local experiences. `;
        }
        prompt += `Provide timings, estimated costs where possible, and travel tips. Format the output in well-structured markdown with headings for each day.`;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${geminiApiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            if (!response.ok) throw new Error('API Error');
            const result = await response.json();
            const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a plan. Please try again.";
            recommendationDetails.innerHTML = marked.parse(aiResponse);
            recommendationDetails.innerHTML += `
                <div class="mt-8 text-center">
                    <button onclick="goToPaymentPage()" class="px-8 py-3 font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 transition">Book The Package Now</button>
                </div>
            `;
        } catch (error) {
            console.error("Trip Plan Error:", error);
            recommendationDetails.innerHTML = '<p class="text-center text-red-500">Sorry, there was an error generating your itinerary. Please check your connection and try again.</p>';
        }
    }

    async function planMedicalTrip() {
        const destination = document.getElementById('medical-destination').value;
        const startDate = document.getElementById('medical-start-date').value;
        const endDate = document.getElementById('medical-end-date').value;
        const budget = document.getElementById('medical-budget').value;

        if (!destination || !startDate || !endDate) {
            return;
        }

        const recommendationTitle = document.getElementById('recommendation-title');
        const recommendationDetails = document.getElementById('recommendation-details');

        recommendationTitle.textContent = `AI Medical Trip Plan for ${destination}`;
        recommendationDetails.innerHTML = itineraryLoaderHTML;
        switchPage('recommendation-page');

        let prompt = `Create a helpful travel plan for a medical trip to ${destination}. The main appointment is on ${startDate}, and the traveler plans to return around ${endDate}. `;
        if (budget) {
            prompt += `The traveler has a budget of approximately INR ${budget}. `;
        }
        prompt += `Suggest suitable and affordable accommodation near the hospital/city, transportation options (local cabs, etc.), and information on nearby pharmacies or healthy food places. Also include some light, relaxing activities that can be done before or after the medical appointments, keeping the budget in mind. Format the output in well-structured markdown.`;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${geminiApiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            if (!response.ok) throw new Error('API Error');
            const result = await response.json();
            const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a plan. Please try again.";
            recommendationDetails.innerHTML = marked.parse(aiResponse);
            recommendationDetails.innerHTML += `
                <div class="mt-8 text-center">
                    <button onclick="goToPaymentPage()" class="px-8 py-3 font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 transition">Book The Package Now</button>
                </div>
            `;
        } catch (error) {
            console.error("Medical Plan Error:", error);
            recommendationDetails.innerHTML = '<p class="text-center text-red-500">Sorry, there was an error generating your plan. Please check your connection and try again.</p>';
        }
    }

    function handleBooking(serviceName) {
        appData.bookingService = serviceName;
        appData.verificationSourcePage = currentPage;
        if (appData.isVerifiedForSession) {
             goToDetailedBookingPage(serviceName);
        } else {
            showVerificationConfirmModal();
        }
    }

    function showVerificationConfirmModal() {
        document.getElementById('verification-confirm-modal').classList.remove('hidden');
    }

    function hideVerificationConfirmModal() {
        document.getElementById('verification-confirm-modal').classList.add('hidden');
    }

    function proceedToVerification() {
        hideVerificationConfirmModal();
        redirectToVerification();
    }

    function forceProceedToBooking() {
        hideVerificationConfirmModal();
        appData.isVerifiedForSession = true; // User confirms pass is ready
        goToDetailedBookingPage(appData.bookingService);
    }

    function redirectToVerification() {
        document.getElementById('reg-title').textContent = "Verify Travel Party";
        document.getElementById('reg-back-btn').onclick = () => switchPage(appData.verificationSourcePage);
        switchPage('registration-page');
    }

    function goToDetailedBookingPage(serviceName) {
        const titleEl = document.getElementById('detailed-booking-title');
        const contentEl = document.getElementById('detailed-booking-content');
        const backBtn = document.getElementById('detailed-booking-back-btn');
        
        titleEl.textContent = `Book ${serviceName}`;
        backBtn.onclick = () => switchPage(appData.verificationSourcePage);
        
        let formHTML = '';
        const inputClass = "w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none transition";
        const buttonClass = "w-full py-3 font-semibold text-white bg-sky-600 rounded-lg hover:bg-sky-700 transition";

        if (serviceName === 'Flights') {
            formHTML = `<div class="styled-card bg-white/80 backdrop-blur-sm p-6 sm:p-8 rounded-2xl space-y-4 no-hover">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input placeholder="From (e.g., DEL)" class="${inputClass}"><input placeholder="To (e.g., BOM)" class="${inputClass}"></div>
                <input type="text" placeholder="Date" onfocus="(this.type='date')" onblur="this.type='text'" class="${inputClass}">
                <button onclick="showMockResults('Flights')" class="${buttonClass}">Search Flights</button>
            </div>`;
        } else if (serviceName === 'Hotels' || serviceName === 'Hospitals') {
             formHTML = `<div class="styled-card bg-white/80 backdrop-blur-sm p-6 sm:p-8 rounded-2xl space-y-4 no-hover">
                <input placeholder="City or ${serviceName.slice(0,-1)} Name" class="${inputClass}">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input type="text" placeholder="Check-in" onfocus="(this.type='date')" onblur="this.type='text'" class="${inputClass}"><input type="text" placeholder="Check-out" onfocus="(this.type='date')" onblur="this.type='text'" class="${inputClass}"></div>
                <button onclick="showMockResults('Stays')" class="${buttonClass}">Search Stays</button>
                <div class="p-6 mt-6 rounded-2xl styled-card bg-white/80 backdrop-blur-sm space-y-4 border border-sky-200 no-hover">
                    <h3 class="text-lg font-bold text-center text-sky-600">Your Personal Travel AI</h3>
                    <div id="ai-chat-container" class="h-64 flex flex-col">
                        <div id="ai-chat-messages" class="flex-grow overflow-y-auto custom-scrollbar p-2 flex flex-col bg-white rounded-lg border"></div>
                        <div class="flex space-x-2 pt-4">
                            <input id="ai-chat-input" type="text" placeholder="Ask for advice..." class="${inputClass}">
                            <button onclick="sendChatMessage()" class="px-5 py-2 font-semibold text-white bg-sky-600 rounded-lg whitespace-nowrap hover:bg-sky-700 transition">Send</button>
                        </div>
                    </div>
                </div>
            </div>`;
        } else if (serviceName === 'Trains') {
             formHTML = `<div class="styled-card bg-white/80 backdrop-blur-sm p-6 sm:p-8 rounded-2xl space-y-4 no-hover">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input placeholder="From Station" class="${inputClass}"><input placeholder="To Station" class="${inputClass}"></div>
                 <input type="text" placeholder="Date" onfocus="(this.type='date')" onblur="this.type='text'" class="${inputClass}">
                <button onclick="showMockResults('Trains')" class="${buttonClass}">Search Trains</button>
            </div>`;
        } else { // Cabs
             formHTML = `<div class="styled-card bg-white/80 backdrop-blur-sm p-6 sm:p-8 rounded-2xl space-y-4 no-hover"><input placeholder="Pickup Location" class="${inputClass}"><input placeholder="Drop-off Location" class="${inputClass}"><button onclick="showMockResults('Cabs')" class="${buttonClass}">Find Cabs</button></div>`;
        }
        contentEl.innerHTML = formHTML + `<div id="search-results" class="mt-8 space-y-4"></div>`;
        if (serviceName === 'Hotels' || serviceName === 'Hospitals') {
            setupAiChat();
        }
        switchPage('detailed-booking-page');
    }
    
    function showMockResults(type) {
        const resultsEl = document.getElementById('search-results');
        resultsEl.innerHTML = `<p class="text-center text-slate-500 animate-pulse">Searching...</p>`;
        setTimeout(() => {
            let resultsHTML = '';
            for(let i=0; i < 3; i++) {
                resultsHTML += `<div class="styled-card bg-white/80 backdrop-blur-sm p-4 flex justify-between items-center no-hover">
                    <div><p class="font-semibold">${type} Option ${i+1}</p><p class="text-sm text-slate-500">Details about this option...</p></div>
                    <button onclick="goToPaymentPage()" class="px-6 py-2 font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 transition">Book Now</button>
                </div>`;
            }
            resultsEl.innerHTML = resultsHTML;
        }, 1500);
    }

    function goToPaymentPage() {
        switchPage('payment-page');
    }

    function confirmPayment() {
        showLoader('Processing Payment...');
        setTimeout(() => {
            hideLoader();
            document.getElementById('confirmed-service-name').textContent = appData.bookingService;
            switchPage('confirmation-page');
            // Trigger animation
            const confirmCheckbox = document.querySelector('#confirmation-page input[type="checkbox"]');
            if (confirmCheckbox) {
                confirmCheckbox.checked = true;
                // Return to dashboard after animation
                setTimeout(() => {
                    confirmCheckbox.checked = false; // Reset for next time
                    switchPage('home-page');
                }, 4000); 
            }
        }, 1000);
    }

    function generateForeignPass() {
        const name = document.getElementById('foreign-name').value;
        const passport = document.getElementById('passport-number').value;
        const visa = document.getElementById('visa-details').value;
        const country = document.getElementById('country-select').value;

        if (!name || !passport || !visa || !country) {
            // Simple validation feedback can be added here
            return;
        }

        appData.passGenerated = true;
        appData.foreignDetails = { name, passport, visa, country };
        appData.indianDetails = null; // Clear other pass type details
        
        updatePassDisplay();
        document.getElementById('existing-pass-container').scrollIntoView({ behavior: 'smooth' });
    }

    function showRegistrationPage(nationality) {
        document.getElementById('nationality-modal').classList.add('hidden');
        appData.nationalitySelected = true;

        const indianForm = document.getElementById('indian-citizen-form');
        const foreignForm = document.getElementById('foreign-national-form');

        if (nationality === 'indian') {
            indianForm.classList.remove('hidden');
            foreignForm.classList.add('hidden');
        } else {
            indianForm.classList.add('hidden');
            foreignForm.classList.remove('hidden');
        }
        // Now that nationality is set, proceed to the registration page
        switchPage('registration-page');
    }
    
    // --- AI Chat Functions ---
    function setupAiChat() {
        appendAiMessage("Hello! How can I help you find the perfect stay today?");
        const chatInput = document.getElementById('ai-chat-input');
        chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendChatMessage(); });
    }
    function appendUserMessage(message) {
        const messagesContainer = document.getElementById('ai-chat-messages');
        messagesContainer.innerHTML += `<div class="chat-message user-message">${message}</div>`;
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    function appendAiMessage(message) {
        const messagesContainer = document.getElementById('ai-chat-messages');
        const thinkingMsg = messagesContainer.querySelector('.thinking');
        if (thinkingMsg) {
            thinkingMsg.innerHTML = message;
            thinkingMsg.classList.remove('thinking', 'animate-pulse');
        } else {
            messagesContainer.innerHTML += `<div class="chat-message ai-message">${message}</div>`;
        }
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    async function sendChatMessage() {
        const chatInput = document.getElementById('ai-chat-input');
        const userMessage = chatInput.value.trim();
        if (!userMessage) return;
        appendUserMessage(userMessage);
        chatInput.value = '';
        const messagesContainer = document.getElementById('ai-chat-messages');
        messagesContainer.innerHTML += `<div class="chat-message ai-message thinking animate-pulse">...</div>`;
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        const prompt = `You are a helpful travel AI assistant. The user asked: "${userMessage}". Provide helpful, concise advice. Keep responses friendly.`;
        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${geminiApiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            if (!response.ok) throw new Error('API Error');
            const result = await response.json();
            const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that.";
            appendAiMessage(marked.parse(aiResponse));
        } catch (error) {
            console.error("AI Chat Error:", error);
            appendAiMessage("Sorry, I'm having trouble connecting right now.");
        }
    }

    function showOtpModal() {
        const aadharInput = document.getElementById('user-aadhar-id');
        if (aadharInput.value.trim().length < 12) { return; }
        document.getElementById('otp-modal').classList.remove('hidden');
        document.getElementById('otp-input1').focus();
        setupOtpInputs();
    }

    function hideOtpModal() {
        document.getElementById('otp-modal').classList.add('hidden');
    }

    function verifyOtp(event) {
        event.preventDefault(); 
        hideOtpModal();
        const statusEl = document.getElementById('aadhar-status');
        statusEl.textContent = 'Aadhar Verified Successfully';
        statusEl.classList.remove('text-red-500');
        statusEl.classList.add('text-green-500');
        document.getElementById('verify-aadhar-btn').disabled = true;
        document.getElementById('verify-aadhar-btn').textContent = 'Verified';
        document.getElementById('user-aadhar-id').disabled = true;
        document.getElementById('generate-pass-btn').disabled = false;
    }

    function setupOtpInputs() {
        const inputs = document.querySelectorAll('.otp-input');
        inputs.forEach((input) => {
            input.addEventListener('keyup', (e) => {
                if (e.key === "Backspace" && input.previousElementSibling) {
                    input.previousElementSibling.focus();
                } else if (input.value && input.nextElementSibling) {
                    input.nextElementSibling.focus();
                }
            });
        });
    }

    function showFeedbackModal() {
        document.getElementById('feedback-modal').classList.remove('hidden');
        // Reset to form view in case it was left on the thank you message
        document.getElementById('feedback-form-container').classList.remove('hidden');
        document.getElementById('feedback-thanks-container').classList.add('hidden');
        document.getElementById('feedback-textarea').value = '';
    }

    function hideFeedbackModal() {
        document.getElementById('feedback-modal').classList.add('hidden');
    }

    function submitFeedback(event) {
        event.preventDefault();
        const formContainer = document.getElementById('feedback-form-container');
        const thanksContainer = document.getElementById('feedback-thanks-container');
        
        formContainer.classList.add('hidden');
        thanksContainer.classList.remove('hidden');

        // Hide the modal automatically after a few seconds
        setTimeout(() => {
            hideFeedbackModal();
        }, 3000); 
    }

    // --- Global AI Assistant Modal Functions ---
    function showAiAssistantModal() {
        document.getElementById('ai-assistant-modal').classList.remove('hidden');
        const messagesContainer = document.getElementById('global-ai-chat-messages');
        if (messagesContainer.innerHTML.trim() === '') {
             appendGlobalAiMessage("Hello! I'm your AI travel assistant. How can I help you with your Kerala trip plans?");
        }
    }

    function hideAiAssistantModal() {
        document.getElementById('ai-assistant-modal').classList.add('hidden');
    }

    function appendGlobalUserMessage(message) {
        const messagesContainer = document.getElementById('global-ai-chat-messages');
        messagesContainer.innerHTML += `<div class="chat-message user-message">${message}</div>`;
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function appendGlobalAiMessage(message) {
        const messagesContainer = document.getElementById('global-ai-chat-messages');
        const thinkingMsg = messagesContainer.querySelector('.thinking');
        if (thinkingMsg) {
            thinkingMsg.innerHTML = marked.parse(message);
            thinkingMsg.classList.remove('thinking', 'animate-pulse');
        } else {
            messagesContainer.innerHTML += `<div class="chat-message ai-message">${marked.parse(message)}</div>`;
        }
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    async function sendGlobalAiChatMessage() {
        const chatInput = document.getElementById('global-ai-chat-input');
        const userMessage = chatInput.value.trim();
        if (!userMessage) return;
        appendGlobalUserMessage(userMessage);
        chatInput.value = '';
        const messagesContainer = document.getElementById('global-ai-chat-messages');
        messagesContainer.innerHTML += `<div class="chat-message ai-message thinking animate-pulse">...</div>`;
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        const prompt = `You are a helpful travel AI assistant for a tourist planning a trip to Kerala, India. The user asked: "${userMessage}". Provide helpful, concise advice. Keep responses friendly and focused on Kerala tourism, travel, culture, cuisine, and safety. Use markdown for formatting like lists or bold text.`;
        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${geminiApiKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            if (!response.ok) throw new Error('API Error');
            const result = await response.json();
            const aiResponse = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that.";
            appendGlobalAiMessage(aiResponse);
        } catch (error) {
            console.error("Global AI Chat Error:", error);
            appendGlobalAiMessage("Sorry, I'm having trouble connecting right now.");
        }
    }

    function updatePassDisplay() {
        const passContainer = document.getElementById('existing-pass-container');
        if (!passContainer) return;

        if (appData.passGenerated) {
            // Populate pass details based on saved data
            if (appData.foreignDetails) {
                const { name, passport, country } = appData.foreignDetails;
                document.getElementById('pass-user-details-inline').innerHTML = `<p class="font-bold text-lg text-slate-800">${name}</p><p class="text-sm text-slate-500">Passport: ${passport}</p><p class="text-sm text-slate-500">Country: ${country}</p>`;
                document.getElementById('pass-companions-details-inline').innerHTML = appData.foreignCompanions.length > 0 ? `<h3 class="font-semibold text-center mt-4 mb-2 text-slate-700">Companions</h3><ul class="text-center text-sm text-slate-600">${appData.foreignCompanions.map(c => `<li>${c.name} (Passport: ${c.id})</li>`).join('')}</ul>` : '';
            } else if (appData.indianDetails) {
                const { aadhar } = appData.indianDetails;
                document.getElementById('pass-user-details-inline').innerHTML = `<p class="font-bold text-lg text-slate-800">${appData.currentUser}</p><p class="text-sm text-slate-500">Aadhar: ${aadhar}</p>`;
                document.getElementById('pass-companions-details-inline').innerHTML = appData.companions.length > 0 ? `<h3 class="font-semibold text-center mt-4 mb-2 text-slate-700">Companions</h3><ul class="text-center text-sm text-slate-600">${appData.companions.map(c => `<li>${c.name} (${c.id})</li>`).join('')}</ul>` : '';
            }
            passContainer.classList.remove('hidden');
        } else {
            passContainer.classList.add('hidden');
        }
    }

    function showLoader(message = "Loading...") {
        const loader = document.getElementById('app-loader');
        document.getElementById('loader-message').textContent = message;
        loader.classList.remove('hidden');
    }

    function hideLoader() {
        document.getElementById('app-loader').classList.add('hidden');
    }

    window.onload = function() {
        setTimeout(hideLoader, 500);
    };
    
    function toggleMobileMenu() {
        const iconA = document.getElementById('mobile-icon-a');
        const iconB = document.getElementById('mobile-icon-b');
        const iconC = document.getElementById('mobile-icon-c');
        const nav = document.getElementById('mobile-nav');
        const overlay = document.getElementById('mobile-nav-overlay');

        iconA.classList.toggle('a');
        iconC.classList.toggle('b');
        iconB.classList.toggle('c');
        nav.classList.toggle('show');
        overlay.classList.toggle('slide');
        
        isMobileMenuOpen = nav.classList.contains('show');
        document.body.style.overflow = isMobileMenuOpen ? 'hidden' : 'auto';
    }

    function handleNewMenuClick(pageId) {
        if (pageId) {
            switchPage(pageId);
        }
        if (isMobileMenuOpen) {
            toggleMobileMenu();
        }
        return false;
    }

    function handleNewLogoutClick() {
        handleLogout();
        if (isMobileMenuOpen) {
            toggleMobileMenu();
        }
        return false;
    }

    document.addEventListener('DOMContentLoaded', () => {
        renderCompanions();
        renderForeignCompanions();
        updatePassDisplay();
        const globalChatInput = document.getElementById('global-ai-chat-input');
        if (globalChatInput) {
            globalChatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendGlobalAiChatMessage(); });
        }
        
        const mobileMenuIcon = document.getElementById('mobile-menu-icon');
        if (mobileMenuIcon) {
            mobileMenuIcon.addEventListener('click', toggleMobileMenu);
        }

        const langSelector = document.getElementById('language-selector');
        const savedLang = localStorage.getItem('preferredLanguage') || 'en';
        if(langSelector) {
            langSelector.value = savedLang;
            langSelector.addEventListener('change', (e) => setLanguage(e.target.value));
        }

        populateCountries();
        setLanguage(savedLang); // Set default/saved language
    });
    </script>
</body>
</html>


























